<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="node_type">interface</value>
  <value name="node_subtype">unknown</value>
  <value name="node_nsName">wx.mcp.server.services.utils</value>
  <value name="node_pkg">WxMCPServer</value>
  <value name="is_public">false</value>
  <value name="encodeutf8">true</value>
  <value name="shared">Ci8qKgogKiBSZWN1cnNpdmVseSB0cmF2ZXJzZXMgdGhlIHNjaGVtYSBhbmQgcmVwbGFjZXMvYXVn
bWVudHMgaXQgd2l0aCAncmVxdWlyZWQnIAogKiBwcm9wZXJ0aWVzIGZyb20gdGhlIHJlZmVyZW5j
ZWQgT3BlbkFQSSBjb21wb25lbnRzIChpZiBtaXNzaW5nKS4KICogVGhpcyBlbnN1cmVzIG5lc3Rl
ZCBvYmplY3RzIGFuZCBhcnJheXMgcmVzcGVjdCB0aGUgb3JpZ2luYWwgT3BlbkFQSSBjb25zdHJh
aW50cy4KICovCnByaXZhdGUgc3RhdGljIHZvaWQgcHJvcGFnYXRlUmVxdWlyZWRGcm9tQ29tcG9u
ZW50cyhKU09OT2JqZWN0IHNjaGVtYSwgSlNPTk9iamVjdCBjb21wb25lbnRzKSB7CiAgICBpZiAo
c2NoZW1hID09IG51bGwpIHJldHVybjsKCiAgICAvLyBIYW5kbGUgJHJlZiBjYXNlCiAgICBpZiAo
c2NoZW1hLmhhcygiJHJlZiIpKSB7CiAgICAgICAgU3RyaW5nIHJlZiA9IHNjaGVtYS5nZXRTdHJp
bmcoIiRyZWYiKTsKICAgICAgICBTdHJpbmdbXSBwYXJ0cyA9IHJlZi5zcGxpdCgiLyIpOwogICAg
ICAgIGlmIChwYXJ0cy5sZW5ndGggPj0gMyAmJiAiY29tcG9uZW50cyIuZXF1YWxzKHBhcnRzWzFd
KSAmJiAic2NoZW1hcyIuZXF1YWxzKHBhcnRzWzJdKSkgewogICAgICAgICAgICBTdHJpbmcgbmFt
ZSA9IHBhcnRzW3BhcnRzLmxlbmd0aCAtIDFdOwogICAgICAgICAgICBpZiAoY29tcG9uZW50cy5o
YXMoInNjaGVtYXMiKSAmJiBjb21wb25lbnRzLmdldEpTT05PYmplY3QoInNjaGVtYXMiKS5oYXMo
bmFtZSkpIHsKICAgICAgICAgICAgICAgIEpTT05PYmplY3QgY29tcFNjaGVtYSA9IGNvbXBvbmVu
dHMuZ2V0SlNPTk9iamVjdCgic2NoZW1hcyIpLmdldEpTT05PYmplY3QobmFtZSk7CiAgICAgICAg
ICAgICAgICBpZiAoY29tcFNjaGVtYS5oYXMoInJlcXVpcmVkIikgJiYgIXNjaGVtYS5oYXMoInJl
cXVpcmVkIikpIHsKICAgICAgICAgICAgICAgICAgICBzY2hlbWEucHV0KCJyZXF1aXJlZCIsIGNv
bXBTY2hlbWEuZ2V0SlNPTkFycmF5KCJyZXF1aXJlZCIpKTsKICAgICAgICAgICAgICAgIH0KICAg
ICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICAvLyBSZWN1cnNlIGludG8gcHJvcGVydGll
cwogICAgaWYgKHNjaGVtYS5oYXMoInByb3BlcnRpZXMiKSkgewogICAgICAgIGZvciAoU3RyaW5n
IGtleSA6IHNjaGVtYS5nZXRKU09OT2JqZWN0KCJwcm9wZXJ0aWVzIikua2V5U2V0KCkpIHsKICAg
ICAgICAgICAgSlNPTk9iamVjdCBwcm9wID0gc2NoZW1hLmdldEpTT05PYmplY3QoInByb3BlcnRp
ZXMiKS5vcHRKU09OT2JqZWN0KGtleSk7CiAgICAgICAgICAgIGlmIChwcm9wICE9IG51bGwpIHsK
ICAgICAgICAgICAgICAgIHByb3BhZ2F0ZVJlcXVpcmVkRnJvbUNvbXBvbmVudHMocHJvcCwgY29t
cG9uZW50cyk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgLy8gUmVjdXJzZSBp
bnRvIGFycmF5IGl0ZW1zCiAgICBpZiAoImFycmF5Ii5lcXVhbHMoc2NoZW1hLm9wdFN0cmluZygi
dHlwZSIpKSAmJiBzY2hlbWEuaGFzKCJpdGVtcyIpKSB7CiAgICAgICAgSlNPTk9iamVjdCBpdGVt
cyA9IHNjaGVtYS5vcHRKU09OT2JqZWN0KCJpdGVtcyIpOwogICAgICAgIGlmIChpdGVtcyAhPSBu
dWxsKSB7CiAgICAgICAgICAgIHByb3BhZ2F0ZVJlcXVpcmVkRnJvbUNvbXBvbmVudHMoaXRlbXMs
IGNvbXBvbmVudHMpOwogICAgICAgIH0KICAgIH0KfQoKcHVibGljIHN0YXRpYyBTdHJpbmcgc2hh
MjU2KFN0cmluZyB2YWx1ZSkgewogICAgdHJ5IHsKICAgICAgICBNZXNzYWdlRGlnZXN0IGRpZ2Vz
dCA9IE1lc3NhZ2VEaWdlc3QuZ2V0SW5zdGFuY2UoIlNIQS0yNTYiKTsKICAgICAgICBieXRlW10g
aGFzaCA9IGRpZ2VzdC5kaWdlc3QodmFsdWUuZ2V0Qnl0ZXMoU3RhbmRhcmRDaGFyc2V0cy5VVEZf
OCkpOwogICAgICAgIC8vIEhleC1TdHJpbmcgZXJ6ZXVnZW4KICAgICAgICBTdHJpbmdCdWlsZGVy
IGhleFN0cmluZyA9IG5ldyBTdHJpbmdCdWlsZGVyKCk7CiAgICAgICAgZm9yIChieXRlIGIgOiBo
YXNoKSB7CiAgICAgICAgICAgIFN0cmluZyBoZXggPSBJbnRlZ2VyLnRvSGV4U3RyaW5nKDB4ZmYg
JiBiKTsKICAgICAgICAgICAgaWYgKGhleC5sZW5ndGgoKSA9PSAxKSBoZXhTdHJpbmcuYXBwZW5k
KCcwJyk7CiAgICAgICAgICAgIGhleFN0cmluZy5hcHBlbmQoaGV4KTsKICAgICAgICB9CiAgICAg
ICAgcmV0dXJuIGhleFN0cmluZy50b1N0cmluZygpOwogICAgfSBjYXRjaCAoTm9TdWNoQWxnb3Jp
dGhtRXhjZXB0aW9uIGUpIHsKICAgICAgICB0aHJvdyBuZXcgUnVudGltZUV4Y2VwdGlvbigiU0hB
LTI1NiBuaWNodCB2ZXJmw7xnYmFyIiwgZSk7CiAgICB9Cn0KCnByaXZhdGUgc3RhdGljIEpTT05P
YmplY3QgY29tcG9uZW50cyA9IG5ldyBKU09OT2JqZWN0KCk7CgoKcHVibGljIHN0YXRpYyBKU09O
T2JqZWN0IHJlc29sdmVTY2hlbWEoSlNPTk9iamVjdCBzY2hlbWEsIEpTT05PYmplY3QgY29tcG9u
ZW50cykgewogICAgaWYgKHNjaGVtYS5oYXMoIiRyZWYiKSkgewogICAgICAgIFN0cmluZyByZWYg
PSBzY2hlbWEuZ2V0U3RyaW5nKCIkcmVmIik7CiAgICAgICAgU3RyaW5nW10gcGFydHMgPSByZWYu
cmVwbGFjZSgiIy8iLCAiIikuc3BsaXQoIi8iKTsKCiAgICAgICAgSlNPTk9iamVjdCBjdXJyZW50
ID0gY29tcG9uZW50czsgLy8gY29tcG9uZW50cyBjb21lcyBmcm9tIHRvcC1sZXZlbCBPcGVuQVBJ
CgogICAgICAgIGZvciAoaW50IGkgPSAxOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHsKICAgICAg
ICAgICAgU3RyaW5nIHBhcnQgPSBwYXJ0c1tpXTsKICAgICAgICAgICAgaWYgKGN1cnJlbnQuaGFz
KHBhcnQpKSB7CiAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5nZXRKU09OT2JqZWN0
KHBhcnQpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgLy8gR3JhY2VmdWxs
eSBoYW5kbGUgbWlzc2luZyBwYXJ0IG9mIHRoZSByZWYKICAgICAgICAgICAgICAgIFN5c3RlbS5l
cnIucHJpbnRsbigicmVzb2x2ZVNjaGVtYTogTWlzc2luZyBwYXJ0ICciICsgcGFydCArICInIGlu
ICRyZWY6ICIgKyByZWYpOwogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBKU09OT2JqZWN0KCk7
IC8vIHJldHVybiBlbXB0eSBzY2hlbWEgdG8gYXZvaWQgY3Jhc2gKICAgICAgICAgICAgfQogICAg
ICAgIH0KICAgICAgICByZXR1cm4gcmVzb2x2ZVNjaGVtYShjdXJyZW50LCBjb21wb25lbnRzKTsK
ICAgIH0KCiAgICAvLyBSZWN1cnNpdmVseSByZXNvbHZlIGFueSBuZXN0ZWQgc2NoZW1hcwogICAg
SlNPTk9iamVjdCByZXN1bHQgPSBuZXcgSlNPTk9iamVjdCgpOwogICAgZm9yIChTdHJpbmcga2V5
IDogc2NoZW1hLmtleVNldCgpKSB7CiAgICAgICAgT2JqZWN0IHZhbCA9IHNjaGVtYS5nZXQoa2V5
KTsKICAgICAgICBpZiAodmFsIGluc3RhbmNlb2YgSlNPTk9iamVjdCkgewogICAgICAgICAgICBy
ZXN1bHQucHV0KGtleSwgcmVzb2x2ZVNjaGVtYSgoSlNPTk9iamVjdCkgdmFsLCBjb21wb25lbnRz
KSk7CiAgICAgICAgfSBlbHNlIGlmICh2YWwgaW5zdGFuY2VvZiBKU09OQXJyYXkpIHsKICAgICAg
ICAgICAgSlNPTkFycmF5IGFycmF5ID0gKEpTT05BcnJheSkgdmFsOwogICAgICAgICAgICBKU09O
QXJyYXkgbmV3QXJyYXkgPSBuZXcgSlNPTkFycmF5KCk7CiAgICAgICAgICAgIGZvciAoaW50IGkg
PSAwOyBpIDwgYXJyYXkubGVuZ3RoKCk7IGkrKykgewogICAgICAgICAgICAgICAgT2JqZWN0IGl0
ZW0gPSBhcnJheS5nZXQoaSk7CiAgICAgICAgICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIEpT
T05PYmplY3QpIHsKICAgICAgICAgICAgICAgICAgICBuZXdBcnJheS5wdXQocmVzb2x2ZVNjaGVt
YSgoSlNPTk9iamVjdCkgaXRlbSwgY29tcG9uZW50cykpOwogICAgICAgICAgICAgICAgfSBlbHNl
IHsKICAgICAgICAgICAgICAgICAgICBuZXdBcnJheS5wdXQoaXRlbSk7CiAgICAgICAgICAgICAg
ICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmVzdWx0LnB1dChrZXksIG5ld0FycmF5KTsK
ICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXN1bHQucHV0KGtleSwgdmFsKTsKICAgICAg
ICB9CiAgICB9CiAgICByZXR1cm4gcmVzdWx0Owp9CgoKcHJpdmF0ZSBzdGF0aWMgU3RyaW5nIHN1
YlN0cmluZ0FmdGVyKFN0cmluZyBpbnB1dCwgU3RyaW5nIHByZWZpeCl7CglpbnQgaW5kZXggPSBp
bnB1dC5pbmRleE9mKHByZWZpeCk7CgoJU3RyaW5nIHJlc3VsdCA9IGlucHV0OwoJaWYgKGluZGV4
ICE9IC0xKSB7CgkgICAgcmVzdWx0ID0gaW5wdXQuc3Vic3RyaW5nKGluZGV4ICsgcHJlZml4Lmxl
bmd0aCgpKTsKCX0KCXJldHVybiByZXN1bHQ7Cn0KCnByaXZhdGUgc3RhdGljIFN0cmluZyBlbmNv
ZGVVUklDb21wb25lbnQoU3RyaW5nIHMpIHsKICAgIGlmIChzID09IG51bGwpIHJldHVybiAiIjsK
ICAgIHRyeSB7CiAgICAgICAgcmV0dXJuIGphdmEubmV0LlVSTEVuY29kZXIuZW5jb2RlKHMsICJV
VEYtOCIpCiAgICAgICAgICAgIC5yZXBsYWNlQWxsKCJcXCsiLCAiJTIwIikKICAgICAgICAgICAg
LnJlcGxhY2VBbGwoIlxcJTIxIiwgIiEiKQogICAgICAgICAgICAucmVwbGFjZUFsbCgiXFwlMjci
LCAiJyIpCiAgICAgICAgICAgIC5yZXBsYWNlQWxsKCJcXCUyOCIsICIoIikKICAgICAgICAgICAg
LnJlcGxhY2VBbGwoIlxcJTI5IiwgIikiKQogICAgICAgICAgICAucmVwbGFjZUFsbCgiXFwlN0Ui
LCAifiIpOwogICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICByZXR1cm4gczsKICAg
IH0KfQoKLyoqCiAqIENsZWFucyBhIHNjaGVtYSBieSByZW1vdmluZyBwcm9wZXJ0aWVzIHdpdGgg
bnVsbCB2YWx1ZXMgYW5kIGZpeGluZyB0eXBlcy4KICogQWxzbyByZW1vdmVzIGtleXMgbGlrZSAi
ZXhhbXBsZSIgb3IgImV4YW1wbGVzIiBpZiB0aGVpciB2YWx1ZSBpcyBudWxsLgogKi8KcHJpdmF0
ZSBzdGF0aWMgSlNPTk9iamVjdCBjbGVhblNjaGVtYShKU09OT2JqZWN0IHNjaGVtYSkgewogICAg
SlNPTk9iamVjdCBjbGVhbmVkID0gbmV3IEpTT05PYmplY3QoKTsKICAgIGZvciAoU3RyaW5nIGtl
eSA6IHNjaGVtYS5rZXlTZXQoKSkgeyAKICAgICAgICBPYmplY3QgdmFsID0gc2NoZW1hLmdldChr
ZXkpOwogICAgICAgIC8vIFJlbW92ZSBudWxscyBhbmQgImV4YW1wbGUiLyJleGFtcGxlcyIgd2l0
aCBudWxsIHZhbHVlCiAgICAgICAgaWYgKHZhbCA9PSBudWxsIHx8IEpTT05PYmplY3QuTlVMTC5l
cXVhbHModmFsKSkgewogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CiAgICAgICAgaWYg
KChrZXkuZXF1YWxzKCJleGFtcGxlIikgfHwga2V5LmVxdWFscygiZXhhbXBsZXMiKSkgJiYgKHZh
bCA9PSBudWxsIHx8IEpTT05PYmplY3QuTlVMTC5lcXVhbHModmFsKSkpIHsKICAgICAgICAgICAg
Y29udGludWU7CiAgICAgICAgfQogICAgICAgIGlmICh2YWwgaW5zdGFuY2VvZiBKU09OT2JqZWN0
KSB7CiAgICAgICAgICAgIEpTT05PYmplY3Qgc3ViID0gY2xlYW5TY2hlbWEoKEpTT05PYmplY3Qp
IHZhbCk7CiAgICAgICAgICAgIGlmIChzdWIubGVuZ3RoKCkgPiAwKSBjbGVhbmVkLnB1dChrZXks
IHN1Yik7CiAgICAgICAgfSBlbHNlIGlmICh2YWwgaW5zdGFuY2VvZiBKU09OQXJyYXkpIHsKICAg
ICAgICAgICAgSlNPTkFycmF5IGFyciA9IChKU09OQXJyYXkpIHZhbDsKICAgICAgICAgICAgSlNP
TkFycmF5IG5ld0FyciA9IG5ldyBKU09OQXJyYXkoKTsKICAgICAgICAgICAgZm9yIChpbnQgaSA9
IDA7IGkgPCBhcnIubGVuZ3RoKCk7IGkrKykgewogICAgICAgICAgICAgICAgT2JqZWN0IGl0ZW0g
PSBhcnIuZ2V0KGkpOwogICAgICAgICAgICAgICAgaWYgKGl0ZW0gPT0gbnVsbCB8fCBKU09OT2Jq
ZWN0Lk5VTEwuZXF1YWxzKGl0ZW0pKSBjb250aW51ZTsKICAgICAgICAgICAgICAgIGlmIChpdGVt
IGluc3RhbmNlb2YgSlNPTk9iamVjdCkgewogICAgICAgICAgICAgICAgICAgIEpTT05PYmplY3Qg
c3ViID0gY2xlYW5TY2hlbWEoKEpTT05PYmplY3QpIGl0ZW0pOwogICAgICAgICAgICAgICAgICAg
IGlmIChzdWIubGVuZ3RoKCkgPiAwKSBuZXdBcnIucHV0KHN1Yik7CiAgICAgICAgICAgICAgICB9
IGVsc2UgewogICAgICAgICAgICAgICAgICAgIG5ld0Fyci5wdXQoaXRlbSk7CiAgICAgICAgICAg
ICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKG5ld0Fyci5sZW5ndGgoKSA+IDAp
IGNsZWFuZWQucHV0KGtleSwgbmV3QXJyKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBj
bGVhbmVkLnB1dChrZXksIHZhbCk7CiAgICAgICAgfQogICAgfQogICAgLy8gRml4IHR5cGU6IGlm
ICJ0eXBlIiBpcyAib2JqZWN0IiBidXQgbm8gInByb3BlcnRpZXMiLCByZW1vdmUgInR5cGUiCiAg
ICBpZiAoIm9iamVjdCIuZXF1YWxzKGNsZWFuZWQub3B0U3RyaW5nKCJ0eXBlIikpICYmICFjbGVh
bmVkLmhhcygicHJvcGVydGllcyIpKSB7CiAgICAgICAgY2xlYW5lZC5yZW1vdmUoInR5cGUiKTsK
ICAgIH0KICAgIHJldHVybiBjbGVhbmVkOwp9</value>
  <value name="extends"></value>
  <array name="implements" type="value" depth="1">
  </array>
  <array name="imports" type="value" depth="1">
    <value>org.json.*</value>
    <value>java.io.*</value>
    <value>java.nio.file.*</value>
    <value>java.util.*</value>
    <value>java.nio.charset.StandardCharsets</value>
    <value>java.security.MessageDigest</value>
    <value>java.security.NoSuchAlgorithmException</value>
    <value>java.util.Arrays</value>
  </array>
</Values>
