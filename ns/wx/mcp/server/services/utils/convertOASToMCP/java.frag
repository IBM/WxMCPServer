<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="name">convertOASToMCP</value>
  <value name="encodeutf8">true</value>
  <value name="body">SURhdGFDdXJzb3IgcGlwZWxpbmVDdXJzb3IgPSBwaXBlbGluZS5nZXRDdXJzb3IoKTsNCiAgICBT
dHJpbmcgb3BlbkFQSVN0cmluZyA9IElEYXRhVXRpbC5nZXRTdHJpbmcocGlwZWxpbmVDdXJzb3Is
ICJvcGVuQVBJU3RyaW5nIik7DQogICAgDQogICAgU3RyaW5nIGhlYWRlclByZWZpeCA9IElEYXRh
VXRpbC5nZXRTdHJpbmcocGlwZWxpbmVDdXJzb3IsICJoZWFkZXJQcmVmaXgiKTsNCiAgICBTdHJp
bmcgcGF0aFBhcmFtUHJlZml4ID0gSURhdGFVdGlsLmdldFN0cmluZyhwaXBlbGluZUN1cnNvciwg
InBhdGhQYXJhbVByZWZpeCIpOw0KICAgIFN0cmluZyBxdWVyeVByZWZpeCA9IElEYXRhVXRpbC5n
ZXRTdHJpbmcocGlwZWxpbmVDdXJzb3IsICJxdWVyeVByZWZpeCIpOw0KICAgIFN0cmluZyBtY3BP
YmplY3ROYW1lID0gSURhdGFVdGlsLmdldFN0cmluZyhwaXBlbGluZUN1cnNvciwgIm1jcE9iamVj
dE5hbWUiKTsNCiAgICANCiAgICBTdHJpbmcgY29udGVudCA9IG9wZW5BUElTdHJpbmc7DQogICAg
SlNPTk9iamVjdCBvcGVuQXBpID0gbmV3IEpTT05PYmplY3QoY29udGVudCk7DQogICAgSlNPTk9i
amVjdCBjb21wb25lbnRzID0gbnVsbDsNCiAgICBpZiAob3BlbkFwaS5oYXMoImNvbXBvbmVudHMi
KSkgew0KICAgICAgIGNvbXBvbmVudHMgPSBvcGVuQXBpLmdldEpTT05PYmplY3QoImNvbXBvbmVu
dHMiKTsNCiAgICB9DQoNCiAgICBKU09OT2JqZWN0IHBhdGhzID0gb3BlbkFwaS5nZXRKU09OT2Jq
ZWN0KCJwYXRocyIpOw0KICAgIEpTT05BcnJheSB0b29scyA9IG5ldyBKU09OQXJyYXkoKTsNCiAg
ICBTZXQ8U3RyaW5nPiBodHRwTWV0aG9kcyA9IFNldC5vZigiZ2V0IiwgInBvc3QiLCAicHV0Iiwg
ImRlbGV0ZSIsICJwYXRjaCIsICJoZWFkIiwgIm9wdGlvbnMiKTsNCg0KICAgIGZvciAoU3RyaW5n
IHBhdGggOiBwYXRocy5rZXlTZXQoKSkgew0KICAgICAgICBKU09OT2JqZWN0IG1ldGhvZHMgPSBw
YXRocy5nZXRKU09OT2JqZWN0KHBhdGgpOw0KDQogICAgICAgIGZvciAoU3RyaW5nIG1ldGhvZEtl
eSA6IG1ldGhvZHMua2V5U2V0KCkpIHsNCiAgICAgICAgICAgIGlmICghaHR0cE1ldGhvZHMuY29u
dGFpbnMobWV0aG9kS2V5LnRvTG93ZXJDYXNlKCkpKSBjb250aW51ZTsNCg0KICAgICAgICAgICAg
SlNPTk9iamVjdCBvcCA9IG1ldGhvZHMuZ2V0SlNPTk9iamVjdChtZXRob2RLZXkpOw0KICAgICAg
ICAgICAgaWYgKCFvcC5oYXMoIm9wZXJhdGlvbklkIikpIGNvbnRpbnVlOw0KDQogICAgICAgICAg
ICBTdHJpbmcgb3BlcmF0aW9uSWQgPSBvcC5nZXRTdHJpbmcoIm9wZXJhdGlvbklkIik7DQogICAg
ICAgICAgICBTdHJpbmcgc3VtbWFyeSA9IG9wLm9wdFN0cmluZygic3VtbWFyeSIsICJObyBkZXNj
cmlwdGlvbiIpOw0KDQogICAgICAgICAgICAvLyAtLS0gQnVpbGQgdG9vbCBuYW1lIGFuZCBJRCB3
aXRoIG1jcE9iamVjdE5hbWUgaWYgcHJlc2VudCAtLS0NCiAgICAgICAgICAgIFN0cmluZyB0b29s
TmFtZTsNCiAgICAgICAgICAgIGlmIChtY3BPYmplY3ROYW1lICE9IG51bGwgJiYgIW1jcE9iamVj
dE5hbWUuaXNFbXB0eSgpKSB7DQogICAgICAgICAgICAgICAgdG9vbE5hbWUgPSBtY3BPYmplY3RO
YW1lICsgIl8iICsgb3BlcmF0aW9uSWQ7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAg
ICAgICAgIHRvb2xOYW1lID0gb3BlcmF0aW9uSWQ7DQogICAgICAgICAgICB9DQogICAgICAgICAg
ICBTdHJpbmcgdG9vbElEOw0KICAgICAgICAgICAgaWYgKG1jcE9iamVjdE5hbWUgIT0gbnVsbCAm
JiAhbWNwT2JqZWN0TmFtZS5pc0VtcHR5KCkpIHsNCiAgICAgICAgICAgICAgICB0b29sSUQgPSBt
Y3BPYmplY3ROYW1lICsgIl8iICsgb3BlcmF0aW9uSWQ7DQogICAgICAgICAgICB9IGVsc2Ugew0K
ICAgICAgICAgICAgICAgIHRvb2xJRCA9IG9wZXJhdGlvbklkOw0KICAgICAgICAgICAgfQ0KDQog
ICAgICAgICAgICAvLyAtLS0gSW5wdXQgc2NoZW1hIC0tLQ0KICAgICAgICAgICAgSlNPTk9iamVj
dCBpbnB1dFNjaGVtYSA9IG5ldyBKU09OT2JqZWN0KCk7DQogICAgICAgICAgICBpbnB1dFNjaGVt
YS5wdXQoInR5cGUiLCAib2JqZWN0Iik7DQogICAgICAgICAgICBKU09OT2JqZWN0IGlucHV0UHJv
cHMgPSBuZXcgSlNPTk9iamVjdCgpOw0KICAgICAgICAgICAgSlNPTkFycmF5IHJlcXVpcmVkUGFy
YW1zID0gbmV3IEpTT05BcnJheSgpOw0KDQogICAgICAgICAgICAvLyBDb2xsZWN0IHBhcmFtZXRl
cnMNCiAgICAgICAgICAgIEpTT05BcnJheSBwYXJhbWV0ZXJzID0gbmV3IEpTT05BcnJheSgpOw0K
ICAgICAgICAgICAgaWYgKG1ldGhvZHMuaGFzKCJwYXJhbWV0ZXJzIikpIHsNCiAgICAgICAgICAg
ICAgICBmb3IgKE9iamVjdCBwIDogbWV0aG9kcy5nZXRKU09OQXJyYXkoInBhcmFtZXRlcnMiKSkg
ew0KICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzLnB1dChwKTsNCiAgICAgICAgICAgICAg
ICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAob3AuaGFzKCJwYXJhbWV0ZXJzIikp
IHsNCiAgICAgICAgICAgICAgICBmb3IgKE9iamVjdCBwIDogb3AuZ2V0SlNPTkFycmF5KCJwYXJh
bWV0ZXJzIikpIHsNCiAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVycy5wdXQocCk7DQogICAg
ICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBmb3IgKGludCBpID0g
MDsgaSA8IHBhcmFtZXRlcnMubGVuZ3RoKCk7IGkrKykgew0KICAgICAgICAgICAgICAgIEpTT05P
YmplY3QgcGFyYW0gPSBwYXJhbWV0ZXJzLmdldEpTT05PYmplY3QoaSk7DQogICAgICAgICAgICAg
ICAgLy8gSWYgdGhlIHBhcmFtZXRlciBpcyBzcGVjaWZpZWQgdXNpbmcgYW4gaW50ZXJuYWwgcmVm
ZXJlbmNlLCB0aGlzIHJlZiBuZWVkcyB0byBiZSByZXNvbHZlZCBiZWZvcmUgZXh0cmFjdGluZyB0
aGUgaW5mbw0KCQkJCWlmIChwYXJhbS5oYXMoIiRyZWYiKSkgew0KCQkJICAgICAgICBTdHJpbmcg
cmVmID0gcGFyYW0uZ2V0U3RyaW5nKCIkcmVmIik7IC8vIGUuZy4gIiMvY29tcG9uZW50cy9wYXJh
bWV0ZXJzL1gtVW5pdFRlc3QtUGFyYW0xIg0KCQkJICAgICAgICBTdHJpbmdbXSByZWZQYXJ0cyA9
IHJlZi5yZXBsYWNlKCIjLyIsICIiKS5zcGxpdCgiLyIpOw0KCQkJDQoJCQkgICAgICAgIEpTT05P
YmplY3QgcmVzb2x2ZWQgPSBvcGVuQXBpOw0KCQkJICAgICAgICBmb3IgKFN0cmluZyBwYXJ0IDog
cmVmUGFydHMpIHsNCgkJCSAgICAgICAgICAgIHJlc29sdmVkID0gcmVzb2x2ZWQuZ2V0SlNPTk9i
amVjdChwYXJ0KTsNCgkJCSAgICAgICAgfQ0KCQkJDQoJCQkgICAgICAgIGV4dHJhY3RQYXJhbWV0
ZXJEZXRhaWxzKHJlc29sdmVkLCBxdWVyeVByZWZpeCwgaGVhZGVyUHJlZml4LCBwYXRoUGFyYW1Q
cmVmaXgsIGNvbXBvbmVudHMsIGlucHV0UHJvcHMsIHJlcXVpcmVkUGFyYW1zKTsNCgkJCSAgICB9
IGVsc2Ugew0KDQoJCQkgICAgCWV4dHJhY3RQYXJhbWV0ZXJEZXRhaWxzKHBhcmFtLCBxdWVyeVBy
ZWZpeCwgaGVhZGVyUHJlZml4LCBwYXRoUGFyYW1QcmVmaXgsIGNvbXBvbmVudHMsIGlucHV0UHJv
cHMsIHJlcXVpcmVkUGFyYW1zKTsNCgkJCSAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAg
IC8vIC0tLSBIYW5kbGUgcmVxdWVzdEJvZHkgLS0tDQogICAgICAgICAgICANCiAgICAgICAgICAg
IGlmIChvcC5oYXMoInJlcXVlc3RCb2R5IikpIHsNCiAgICAgICAgICAgICAgICB0cnkgew0KICAg
ICAgICAgICAgICAgICAgICBKU09OT2JqZWN0IGJvZHlTY2hlbWEgPSBvcC5nZXRKU09OT2JqZWN0
KCJyZXF1ZXN0Qm9keSIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmdldEpTT05PYmpl
Y3QoImNvbnRlbnQiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5nZXRKU09OT2JqZWN0
KCJhcHBsaWNhdGlvbi9qc29uIikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZ2V0SlNP
Tk9iamVjdCgic2NoZW1hIik7DQoNCiAgICAgICAgICAgICAgICAgICAgSlNPTk9iamVjdCByZXNv
bHZlZEJvZHkgPSByZXNvbHZlU2NoZW1hKGJvZHlTY2hlbWEsIGNvbXBvbmVudHMpOw0KICAgICAg
ICAgICAgICAgICAgICBKU09OT2JqZWN0IGNsZWFuZWRCb2R5ID0gY2xlYW5TY2hlbWEocmVzb2x2
ZWRCb2R5KTsNCg0KICAgICAgICAgICAgICAgICAgICAvLyBFbnN1cmUgcm9vdCBzY2hlbWEgaXMg
YWx3YXlzIGFuIG9iamVjdA0KICAgICAgICAgICAgICAgICAgICBpZiAoISJvYmplY3QiLmVxdWFs
c0lnbm9yZUNhc2UoY2xlYW5lZEJvZHkub3B0U3RyaW5nKCJ0eXBlIikpKSB7DQogICAgICAgICAg
ICAgICAgICAgICAgICBKU09OT2JqZWN0IHdyYXBwZXIgPSBuZXcgSlNPTk9iamVjdCgpOw0KICAg
ICAgICAgICAgICAgICAgICAgICAgd3JhcHBlci5wdXQoInR5cGUiLCAib2JqZWN0Iik7DQogICAg
ICAgICAgICAgICAgICAgICAgICB3cmFwcGVyLnB1dCgicHJvcGVydGllcyIsIGNsZWFuZWRCb2R5
Lm9wdEpTT05PYmplY3QoInByb3BlcnRpZXMiKSk7DQogICAgICAgICAgICAgICAgICAgICAgICBp
ZiAoY2xlYW5lZEJvZHkuaGFzKCJyZXF1aXJlZCIpKSB7DQogICAgICAgICAgICAgICAgICAgICAg
ICAgICAgd3JhcHBlci5wdXQoInJlcXVpcmVkIiwgY2xlYW5lZEJvZHkuZ2V0SlNPTkFycmF5KCJy
ZXF1aXJlZCIpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAg
ICAgICAgIGNsZWFuZWRCb2R5ID0gd3JhcHBlcjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQog
ICAgICAgICAgICAgICAgICAgIC8vIElmIG5vIHJlcXVpcmVkIGFycmF5IGlzIHNwZWNpZmllZCwg
YXNzdW1lIGFsbCBwcm9wZXJ0aWVzIGFyZSByZXF1aXJlZA0KICAgICAgICAgICAgICAgICAgICBp
ZiAoIWNsZWFuZWRCb2R5LmhhcygicmVxdWlyZWQiKSkgew0KICAgICAgICAgICAgICAgICAgICAg
ICAgSlNPTkFycmF5IGFsbFJlcXVpcmVkID0gbmV3IEpTT05BcnJheSgpOw0KICAgICAgICAgICAg
ICAgICAgICAgICAgSlNPTk9iamVjdCBib2R5UHJvcHMgPSBjbGVhbmVkQm9keS5vcHRKU09OT2Jq
ZWN0KCJwcm9wZXJ0aWVzIik7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoYm9keVByb3Bz
ICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKFN0cmluZyBwcm9w
TmFtZSA6IGJvZHlQcm9wcy5rZXlTZXQoKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBhbGxSZXF1aXJlZC5wdXQocHJvcE5hbWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAg
IGNsZWFuZWRCb2R5LnB1dCgicmVxdWlyZWQiLCBhbGxSZXF1aXJlZCk7DQogICAgICAgICAgICAg
ICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICAvLyBNZXJnZSBwYXJhbWV0ZXJzIHByb3Bl
cnRpZXMgd2l0aCByZXF1ZXN0Qm9keSBwcm9wZXJ0aWVzDQogICAgICAgICAgICAgICAgICAgIEpT
T05PYmplY3QgbWVyZ2VkU2NoZW1hID0gbmV3IEpTT05PYmplY3QoKTsNCiAgICAgICAgICAgICAg
ICAgICAgbWVyZ2VkU2NoZW1hLnB1dCgidHlwZSIsICJvYmplY3QiKTsNCg0KICAgICAgICAgICAg
ICAgICAgICAvLyBNZXJnZSBpbnB1dFByb3BzIChwYXJhbWV0ZXJzKQ0KICAgICAgICAgICAgICAg
ICAgICBKU09OT2JqZWN0IG1lcmdlZFByb3BzID0gbmV3IEpTT05PYmplY3QoKTsNCiAgICAgICAg
ICAgICAgICAgICAgZm9yIChTdHJpbmcga2V5IDogaW5wdXRQcm9wcy5rZXlTZXQoKSkgew0KICAg
ICAgICAgICAgICAgICAgICAgICAgbWVyZ2VkUHJvcHMucHV0KGtleSwgaW5wdXRQcm9wcy5nZXQo
a2V5KSk7DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICAvLyBN
ZXJnZSByZXF1ZXN0Qm9keSBwcm9wZXJ0aWVzDQogICAgICAgICAgICAgICAgICAgIGlmIChjbGVh
bmVkQm9keS5oYXMoInByb3BlcnRpZXMiKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgSlNP
Tk9iamVjdCBib2R5UHJvcHMgPSBjbGVhbmVkQm9keS5nZXRKU09OT2JqZWN0KCJwcm9wZXJ0aWVz
Iik7DQogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKFN0cmluZyBrZXkgOiBib2R5UHJvcHMu
a2V5U2V0KCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXJnZWRQcm9wcy5wdXQo
a2V5LCBib2R5UHJvcHMuZ2V0KGtleSkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAg
ICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIG1lcmdlZFNjaGVtYS5wdXQo
InByb3BlcnRpZXMiLCBtZXJnZWRQcm9wcyk7DQoNCiAgICAgICAgICAgICAgICAgICAgLy8gTWVy
Z2UgcmVxdWlyZWQgYXJyYXlzIChwYXJhbWV0ZXJzICsgcmVxdWVzdEJvZHkpDQogICAgICAgICAg
ICAgICAgICAgIEpTT05BcnJheSBtZXJnZWRSZXF1aXJlZCA9IG5ldyBKU09OQXJyYXkoKTsNCiAg
ICAgICAgICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCByZXF1aXJlZFBhcmFtcy5sZW5n
dGgoKTsgaSsrKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBtZXJnZWRSZXF1aXJlZC5wdXQo
cmVxdWlyZWRQYXJhbXMuZ2V0U3RyaW5nKGkpKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAg
ICAgICAgICAgICAgICAgICBKU09OQXJyYXkgYm9keVJlcXVpcmVkID0gY2xlYW5lZEJvZHkub3B0
SlNPTkFycmF5KCJyZXF1aXJlZCIpOw0KICAgICAgICAgICAgICAgICAgICBpZiAoYm9keVJlcXVp
cmVkICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaW50IGkgPSAwOyBp
IDwgYm9keVJlcXVpcmVkLmxlbmd0aCgpOyBpKyspIHsNCiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBTdHJpbmcgcmVxID0gYm9keVJlcXVpcmVkLmdldFN0cmluZyhpKTsNCiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBpZiAoIW1lcmdlZFJlcXVpcmVkLnRvTGlzdCgpLmNvbnRhaW5zKHJl
cSkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVyZ2VkUmVxdWlyZWQucHV0
KHJlcSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAg
ICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgaWYg
KG1lcmdlZFJlcXVpcmVkLmxlbmd0aCgpID4gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAg
bWVyZ2VkU2NoZW1hLnB1dCgicmVxdWlyZWQiLCBtZXJnZWRSZXF1aXJlZCk7DQogICAgICAgICAg
ICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICAvLyBSZWN1cnNpdmVseSBwcm9wYWdh
dGUgcmVxdWlyZWQgZnJvbSBjb21wb25lbnRzIGlmIGFueQ0KICAgICAgICAgICAgICAgICAgICBw
cm9wYWdhdGVSZXF1aXJlZEZyb21Db21wb25lbnRzKG1lcmdlZFNjaGVtYSwgY29tcG9uZW50cyk7
DQoNCiAgICAgICAgICAgICAgICAgICAgaW5wdXRTY2hlbWEgPSBtZXJnZWRTY2hlbWE7DQoNCiAg
ICAgICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgICAgICAg
ICBTeXN0ZW0uZXJyLnByaW50bG4oIkZhaWxlZCB0byByZXNvbHZlIHJlcXVlc3RCb2R5IHNjaGVt
YSBmb3IgIg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBvcGVyYXRp
b25JZCArICI6ICIgKyBlLmdldE1lc3NhZ2UoKSk7DQogICAgICAgICAgICAgICAgICAgIC8vIEZh
bGxiYWNrIHRvIHBhcmFtZXRlcnMgb25seSBzY2hlbWEgaWYgcmVxdWVzdEJvZHkgZmFpbHMNCiAg
ICAgICAgICAgICAgICAgICAgaW5wdXRTY2hlbWEucHV0KCJwcm9wZXJ0aWVzIiwgaW5wdXRQcm9w
cyk7DQogICAgICAgICAgICAgICAgICAgIGlmIChyZXF1aXJlZFBhcmFtcy5sZW5ndGgoKSA+IDAp
IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0U2NoZW1hLnB1dCgicmVxdWlyZWQiLCBy
ZXF1aXJlZFBhcmFtcyk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9
DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIC8vIE5vIHJlcXVlc3RCb2R5
LCBvbmx5IHBhcmFtZXRlcnMNCiAgICAgICAgICAgICAgICBpbnB1dFNjaGVtYS5wdXQoInByb3Bl
cnRpZXMiLCBpbnB1dFByb3BzKTsNCiAgICAgICAgICAgICAgICBpZiAocmVxdWlyZWRQYXJhbXMu
bGVuZ3RoKCkgPiAwKSB7DQogICAgICAgICAgICAgICAgICAgIGlucHV0U2NoZW1hLnB1dCgicmVx
dWlyZWQiLCByZXF1aXJlZFBhcmFtcyk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAg
fQ0KDQoNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLyoNCiAgICAgICAgICAgIGlmIChvcC5o
YXMoInJlcXVlc3RCb2R5IikpIHsNCiAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAg
ICAgICAgICBKU09OT2JqZWN0IGJvZHlTY2hlbWEgPSBvcC5nZXRKU09OT2JqZWN0KCJyZXF1ZXN0
Qm9keSIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmdldEpTT05PYmplY3QoImNvbnRl
bnQiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5nZXRKU09OT2JqZWN0KCJhcHBsaWNh
dGlvbi9qc29uIikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZ2V0SlNPTk9iamVjdCgi
c2NoZW1hIik7DQoNCiAgICAgICAgICAgICAgICAgICAgLy8gUmVzb2x2ZSAkcmVmIGFuZCBtZXJn
ZSBPcGVuQVBJLXJlcXVpcmVkIGluZm8NCiAgICAgICAgICAgICAgICAgICAgSlNPTk9iamVjdCBy
ZXNvbHZlZEJvZHkgPSByZXNvbHZlU2NoZW1hKGJvZHlTY2hlbWEsIGNvbXBvbmVudHMpOw0KICAg
ICAgICAgICAgICAgICAgICBKU09OT2JqZWN0IGNsZWFuZWRCb2R5ID0gY2xlYW5TY2hlbWEocmVz
b2x2ZWRCb2R5KTsNCg0KICAgICAgICAgICAgICAgICAgICAvLyBFbnN1cmUgcm9vdCBzY2hlbWEg
aXMgYWx3YXlzIGFuIG9iamVjdA0KICAgICAgICAgICAgICAgICAgICBpZiAoISJvYmplY3QiLmVx
dWFsc0lnbm9yZUNhc2UoY2xlYW5lZEJvZHkub3B0U3RyaW5nKCJ0eXBlIikpKSB7DQogICAgICAg
ICAgICAgICAgICAgICAgICBKU09OT2JqZWN0IHdyYXBwZXIgPSBuZXcgSlNPTk9iamVjdCgpOw0K
ICAgICAgICAgICAgICAgICAgICAgICAgd3JhcHBlci5wdXQoInR5cGUiLCAib2JqZWN0Iik7DQog
ICAgICAgICAgICAgICAgICAgICAgICB3cmFwcGVyLnB1dCgicHJvcGVydGllcyIsIGNsZWFuZWRC
b2R5Lm9wdEpTT05PYmplY3QoInByb3BlcnRpZXMiKSk7DQogICAgICAgICAgICAgICAgICAgICAg
ICBpZiAoY2xlYW5lZEJvZHkuaGFzKCJyZXF1aXJlZCIpKSB7DQogICAgICAgICAgICAgICAgICAg
ICAgICAgICAgd3JhcHBlci5wdXQoInJlcXVpcmVkIiwgY2xlYW5lZEJvZHkuZ2V0SlNPTkFycmF5
KCJyZXF1aXJlZCIpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAg
ICAgICAgICAgIGNsZWFuZWRCb2R5ID0gd3JhcHBlcjsNCiAgICAgICAgICAgICAgICAgICAgfQ0K
DQogICAgICAgICAgICAgICAgICAgIC8vIFByZXNlcnZlIHJlcXVpcmVkIGFycmF5IGZyb20gT3Bl
bkFQSSBpZiBhdmFpbGFibGUNCiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc29sdmVkQm9keS5o
YXMoInJlcXVpcmVkIikpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFuZWRCb2R5LnB1
dCgicmVxdWlyZWQiLCByZXNvbHZlZEJvZHkuZ2V0SlNPTkFycmF5KCJyZXF1aXJlZCIpKTsNCiAg
ICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAg
ICAgICAgaWYgKGNsZWFuZWRCb2R5LmhhcygicHJvcGVydGllcyIpKSB7DQogICAgICAgICAgICAg
ICAgICAgICAgICBKU09OT2JqZWN0IHByb3BzID0gY2xlYW5lZEJvZHkuZ2V0SlNPTk9iamVjdCgi
cHJvcGVydGllcyIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgSlNPTkFycmF5IHJlcXVpcmVk
QXJyID0gY2xlYW5lZEJvZHkub3B0SlNPTkFycmF5KCJyZXF1aXJlZCIpOw0KDQogICAgICAgICAg
ICAgICAgICAgICAgICBpZiAocmVxdWlyZWRBcnIgPT0gbnVsbCkgew0KICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIHJlcXVpcmVkQXJyID0gbmV3IEpTT05BcnJheSgpOw0KICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIGZvciAoU3RyaW5nIHByb3BOYW1lIDogcHJvcHMua2V5U2V0KCkpIHsN
CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRBcnIucHV0KHByb3BOYW1l
KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAg
ICAgICAgY2xlYW5lZEJvZHkucHV0KCJyZXF1aXJlZCIsIHJlcXVpcmVkQXJyKTsNCiAgICAgICAg
ICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g
RW5zdXJlIGFsbCBwcm9wZXJ0aWVzIG1hcmtlZCByZXF1aXJlZCBpbiBPcGVuQVBJIHJlbWFpbg0K
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFuZCBvcHRpb25hbGx5IGFkZCBhbnkgbWlz
c2luZyBvbmVzDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChTdHJpbmcgcHJvcE5h
bWUgOiBwcm9wcy5rZXlTZXQoKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBp
ZiAoIXJlcXVpcmVkQXJyLnRvTGlzdCgpLmNvbnRhaW5zKHByb3BOYW1lKSkgew0KICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRBcnIucHV0KHByb3BOYW1lKTsNCiAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0K
DQogICAgICAgICAgICAgICAgICAgIC8vIFJlY3Vyc2l2ZWx5IHByb3BhZ2F0ZSByZXF1aXJlZCBm
b3IgbmVzdGVkICRyZWYNCiAgICAgICAgICAgICAgICAgICAgcHJvcGFnYXRlUmVxdWlyZWRGcm9t
Q29tcG9uZW50cyhjbGVhbmVkQm9keSwgY29tcG9uZW50cyk7DQoNCiAgICAgICAgICAgICAgICAg
ICAgaW5wdXRTY2hlbWEgPSBjbGVhbmVkQm9keTsNCg0KICAgICAgICAgICAgICAgIH0gY2F0Y2gg
KEV4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbigi
RmFpbGVkIHRvIHJlc29sdmUgcmVxdWVzdEJvZHkgc2NoZW1hIGZvciAiDQogICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICArIG9wZXJhdGlvbklkICsgIjogIiArIGUuZ2V0TWVz
c2FnZSgpKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAg
ICAgICAgICAgIGlucHV0U2NoZW1hLnB1dCgicHJvcGVydGllcyIsIGlucHV0UHJvcHMpOw0KICAg
ICAgICAgICAgICAgIGlmIChyZXF1aXJlZFBhcmFtcy5sZW5ndGgoKSA+IDApIHsNCiAgICAgICAg
ICAgICAgICAgICAgaW5wdXRTY2hlbWEucHV0KCJyZXF1aXJlZCIsIHJlcXVpcmVkUGFyYW1zKTsN
CiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiovDQoNCiAgICAgICAgIC8vIC0t
LSBPdXRwdXQgc2NoZW1hIC0tLQ0KICAgICAgICAgICAgSlNPTk9iamVjdCBvdXRwdXRTY2hlbWEg
PSBuZXcgSlNPTk9iamVjdCgpOw0KICAgICAgICAgICAgSlNPTk9iamVjdCByZXNwb25zZXMgPSBv
cC5nZXRKU09OT2JqZWN0KCJyZXNwb25zZXMiKTsgIC8vIDwtLSBUaGlzIG11c3Qgc3RheQ0KICAg
ICAgICAgICAgYm9vbGVhbiBmb3VuZEpzb25SZXNwb25zZSA9IGZhbHNlOw0KDQogICAgICAgICAg
ICBmb3IgKFN0cmluZyBzdGF0dXMgOiByZXNwb25zZXMua2V5U2V0KCkpIHsNCiAgICAgICAgICAg
ICAgICBKU09OT2JqZWN0IHJlc3AgPSByZXNwb25zZXMuZ2V0SlNPTk9iamVjdChzdGF0dXMpOw0K
ICAgICAgICAgICAgICAgIGlmIChyZXNwLmhhcygiY29udGVudCIpKSB7DQogICAgICAgICAgICAg
ICAgICAgIEpTT05PYmplY3QgY29udGVudE9iaiA9IHJlc3AuZ2V0SlNPTk9iamVjdCgiY29udGVu
dCIpOw0KICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudE9iai5oYXMoImFwcGxpY2F0aW9u
L2pzb24iKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgSlNPTk9iamVjdCBzY2hlbWEgPSBj
b250ZW50T2JqDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5nZXRKU09OT2JqZWN0
KCJhcHBsaWNhdGlvbi9qc29uIikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmdl
dEpTT05PYmplY3QoInNjaGVtYSIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgSlNPTk9iamVj
dCBvcmlnaW5hbFNjaGVtYSA9IGNsZWFuU2NoZW1hKHJlc29sdmVTY2hlbWEoc2NoZW1hLCBjb21w
b25lbnRzKSk7DQogICAgICAgICAgICAgICAgICAgICAgICBKU09OT2JqZWN0IHdyYXBwZWRPdXRw
dXRTY2hlbWEgPSBuZXcgSlNPTk9iamVjdCgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgd3Jh
cHBlZE91dHB1dFNjaGVtYS5wdXQoInR5cGUiLCAib2JqZWN0Iik7DQogICAgICAgICAgICAgICAg
ICAgICAgICBKU09OT2JqZWN0IHByb3BzID0gbmV3IEpTT05PYmplY3QoKTsNCiAgICAgICAgICAg
ICAgICAgICAgICAgIHByb3BzLnB1dCgicmVzdWx0Iiwgb3JpZ2luYWxTY2hlbWEpOw0KICAgICAg
ICAgICAgICAgICAgICAgICAgd3JhcHBlZE91dHB1dFNjaGVtYS5wdXQoInByb3BlcnRpZXMiLCBw
cm9wcyk7DQogICAgICAgICAgICAgICAgICAgICAgICB3cmFwcGVkT3V0cHV0U2NoZW1hLnB1dCgi
cmVxdWlyZWQiLCBuZXcgSlNPTkFycmF5KCkucHV0KCJyZXN1bHQiKSk7DQogICAgICAgICAgICAg
ICAgICAgICAgICBvdXRwdXRTY2hlbWEgPSB3cmFwcGVkT3V0cHV0U2NoZW1hOw0KICAgICAgICAg
ICAgICAgICAgICAgICAgZm91bmRKc29uUmVzcG9uc2UgPSB0cnVlOw0KICAgICAgICAgICAgICAg
ICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9
DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGlmICghZm91bmRKc29uUmVzcG9uc2UpIHsN
CiAgICAgICAgICAgICAgICBvdXRwdXRTY2hlbWEucHV0KCJ0eXBlIiwgIm9iamVjdCIpOw0KICAg
ICAgICAgICAgICAgIG91dHB1dFNjaGVtYS5wdXQoInByb3BlcnRpZXMiLCBuZXcgSlNPTk9iamVj
dCgpKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8gLS0tIEJ1aWxkIHRvb2wgb2Jq
ZWN0IC0tLQ0KICAgICAgICAgICAgSlNPTk9iamVjdCB0b29sID0gbmV3IEpTT05PYmplY3QoKTsN
CiAgICAgICAgICAgIHRvb2wucHV0KCJuYW1lIiwgdG9vbE5hbWUpOw0KICAgICAgICAgICAgdG9v
bC5wdXQoImRlc2NyaXB0aW9uIiwgc3VtbWFyeSk7DQogICAgICAgICAgICB0b29sLnB1dCgiaW5w
dXRTY2hlbWEiLCBpbnB1dFNjaGVtYSk7DQogICAgICAgICAgICB0b29sLnB1dCgib3V0cHV0U2No
ZW1hIiwgb3V0cHV0U2NoZW1hKTsNCg0KICAgICAgICAgICAgdG9vbHMucHV0KHRvb2wpOw0KICAg
ICAgICB9DQogICAgfQ0KDQogICAgSlNPTk9iamVjdCByZXN1bHQgPSBuZXcgSlNPTk9iamVjdCgp
Ow0KICAgIHJlc3VsdC5wdXQoInRvb2xzIiwgdG9vbHMpOw0KICAgIElEYXRhVXRpbC5wdXQocGlw
ZWxpbmVDdXJzb3IsICJ0b29sSlNPTlN0cmluZyIsIHJlc3VsdC50b1N0cmluZygpKTsNCiAgICBw
aXBlbGluZUN1cnNvci5kZXN0cm95KCk7</value>
</Values>
