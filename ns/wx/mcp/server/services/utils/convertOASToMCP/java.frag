<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="name">convertOASToMCP</value>
  <value name="encodeutf8">true</value>
  <value name="body">SURhdGFDdXJzb3IgcGlwZWxpbmVDdXJzb3IgPSBwaXBlbGluZS5nZXRDdXJzb3IoKTsNCiAgICBT
dHJpbmcgb3BlbkFQSVN0cmluZyA9IElEYXRhVXRpbC5nZXRTdHJpbmcocGlwZWxpbmVDdXJzb3Is
ICJvcGVuQVBJU3RyaW5nIik7DQogICAgDQogICAgU3RyaW5nIGhlYWRlclByZWZpeCA9IElEYXRh
VXRpbC5nZXRTdHJpbmcocGlwZWxpbmVDdXJzb3IsICJoZWFkZXJQcmVmaXgiKTsNCiAgICBTdHJp
bmcgcGF0aFBhcmFtUHJlZml4ID0gSURhdGFVdGlsLmdldFN0cmluZyhwaXBlbGluZUN1cnNvciwg
InBhdGhQYXJhbVByZWZpeCIpOw0KICAgIFN0cmluZyBxdWVyeVByZWZpeCA9IElEYXRhVXRpbC5n
ZXRTdHJpbmcocGlwZWxpbmVDdXJzb3IsICJxdWVyeVByZWZpeCIpOw0KICAgIFN0cmluZyBtY3BP
YmplY3ROYW1lID0gSURhdGFVdGlsLmdldFN0cmluZyhwaXBlbGluZUN1cnNvciwgIm1jcE9iamVj
dE5hbWUiKTsNCiAgICANCiAgICBTdHJpbmcgY29udGVudCA9IG9wZW5BUElTdHJpbmc7DQogICAg
SlNPTk9iamVjdCBvcGVuQXBpID0gbmV3IEpTT05PYmplY3QoY29udGVudCk7DQogICAgSlNPTk9i
amVjdCBjb21wb25lbnRzID0gbnVsbDsNCiAgICBpZiAob3BlbkFwaS5oYXMoImNvbXBvbmVudHMi
KSkgew0KICAgICAgIGNvbXBvbmVudHMgPSBvcGVuQXBpLmdldEpTT05PYmplY3QoImNvbXBvbmVu
dHMiKTsNCiAgICB9DQoNCiAgICBKU09OT2JqZWN0IHBhdGhzID0gb3BlbkFwaS5nZXRKU09OT2Jq
ZWN0KCJwYXRocyIpOw0KICAgIEpTT05BcnJheSB0b29scyA9IG5ldyBKU09OQXJyYXkoKTsNCiAg
ICBTZXQ8U3RyaW5nPiBodHRwTWV0aG9kcyA9IFNldC5vZigiZ2V0IiwgInBvc3QiLCAicHV0Iiwg
ImRlbGV0ZSIsICJwYXRjaCIsICJoZWFkIiwgIm9wdGlvbnMiKTsNCg0KICAgIGZvciAoU3RyaW5n
IHBhdGggOiBwYXRocy5rZXlTZXQoKSkgew0KICAgICAgICBKU09OT2JqZWN0IG1ldGhvZHMgPSBw
YXRocy5nZXRKU09OT2JqZWN0KHBhdGgpOw0KDQogICAgICAgIGZvciAoU3RyaW5nIG1ldGhvZEtl
eSA6IG1ldGhvZHMua2V5U2V0KCkpIHsNCiAgICAgICAgICAgIGlmICghaHR0cE1ldGhvZHMuY29u
dGFpbnMobWV0aG9kS2V5LnRvTG93ZXJDYXNlKCkpKSBjb250aW51ZTsNCg0KICAgICAgICAgICAg
SlNPTk9iamVjdCBvcCA9IG1ldGhvZHMuZ2V0SlNPTk9iamVjdChtZXRob2RLZXkpOw0KICAgICAg
ICAgICAgaWYgKCFvcC5oYXMoIm9wZXJhdGlvbklkIikpIGNvbnRpbnVlOw0KDQogICAgICAgICAg
ICBTdHJpbmcgb3BlcmF0aW9uSWQgPSBvcC5nZXRTdHJpbmcoIm9wZXJhdGlvbklkIik7DQogICAg
ICAgICAgICBTdHJpbmcgc3VtbWFyeSA9IG9wLm9wdFN0cmluZygic3VtbWFyeSIsICJObyBkZXNj
cmlwdGlvbiIpOw0KDQogICAgICAgICAgICAvLyAtLS0gQnVpbGQgdG9vbCBuYW1lIGFuZCBJRCB3
aXRoIG1jcE9iamVjdE5hbWUgaWYgcHJlc2VudCAtLS0NCiAgICAgICAgICAgIFN0cmluZyB0b29s
TmFtZTsNCiAgICAgICAgICAgIGlmIChtY3BPYmplY3ROYW1lICE9IG51bGwgJiYgIW1jcE9iamVj
dE5hbWUuaXNFbXB0eSgpKSB7DQogICAgICAgICAgICAgICAgdG9vbE5hbWUgPSBtY3BPYmplY3RO
YW1lICsgIl8iICsgb3BlcmF0aW9uSWQ7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAg
ICAgICAgIHRvb2xOYW1lID0gb3BlcmF0aW9uSWQ7DQogICAgICAgICAgICB9DQogICAgICAgICAg
ICBTdHJpbmcgdG9vbElEOw0KICAgICAgICAgICAgaWYgKG1jcE9iamVjdE5hbWUgIT0gbnVsbCAm
JiAhbWNwT2JqZWN0TmFtZS5pc0VtcHR5KCkpIHsNCiAgICAgICAgICAgICAgICB0b29sSUQgPSBt
Y3BPYmplY3ROYW1lICsgIl8iICsgb3BlcmF0aW9uSWQ7DQogICAgICAgICAgICB9IGVsc2Ugew0K
ICAgICAgICAgICAgICAgIHRvb2xJRCA9IG9wZXJhdGlvbklkOw0KICAgICAgICAgICAgfQ0KDQog
ICAgICAgICAgICAvLyAtLS0gSW5wdXQgc2NoZW1hIC0tLQ0KICAgICAgICAgICAgSlNPTk9iamVj
dCBpbnB1dFNjaGVtYSA9IG5ldyBKU09OT2JqZWN0KCk7DQogICAgICAgICAgICBpbnB1dFNjaGVt
YS5wdXQoInR5cGUiLCAib2JqZWN0Iik7DQogICAgICAgICAgICBKU09OT2JqZWN0IGlucHV0UHJv
cHMgPSBuZXcgSlNPTk9iamVjdCgpOw0KICAgICAgICAgICAgSlNPTkFycmF5IHJlcXVpcmVkUGFy
YW1zID0gbmV3IEpTT05BcnJheSgpOw0KDQogICAgICAgICAgICAvLyBDb2xsZWN0IHBhcmFtZXRl
cnMNCiAgICAgICAgICAgIEpTT05BcnJheSBwYXJhbWV0ZXJzID0gbmV3IEpTT05BcnJheSgpOw0K
ICAgICAgICAgICAgaWYgKG1ldGhvZHMuaGFzKCJwYXJhbWV0ZXJzIikpIHsNCiAgICAgICAgICAg
ICAgICBmb3IgKE9iamVjdCBwIDogbWV0aG9kcy5nZXRKU09OQXJyYXkoInBhcmFtZXRlcnMiKSkg
ew0KICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzLnB1dChwKTsNCiAgICAgICAgICAgICAg
ICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAob3AuaGFzKCJwYXJhbWV0ZXJzIikp
IHsNCiAgICAgICAgICAgICAgICBmb3IgKE9iamVjdCBwIDogb3AuZ2V0SlNPTkFycmF5KCJwYXJh
bWV0ZXJzIikpIHsNCiAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVycy5wdXQocCk7DQogICAg
ICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBmb3IgKGludCBpID0g
MDsgaSA8IHBhcmFtZXRlcnMubGVuZ3RoKCk7IGkrKykgew0KICAgICAgICAgICAgICAgIEpTT05P
YmplY3QgcGFyYW0gPSBwYXJhbWV0ZXJzLmdldEpTT05PYmplY3QoaSk7DQogICAgICAgICAgICAg
ICAgU3RyaW5nIG5hbWUgPSBwYXJhbS5nZXRTdHJpbmcoIm5hbWUiKTsNCiAgICAgICAgICAgICAg
ICBTdHJpbmcgaW4gPSBwYXJhbS5nZXRTdHJpbmcoImluIik7DQogICAgICAgICAgICAgICAgU3Ry
aW5nIHByb3BlcnR5TmFtZTsNCiAgICAgICAgICAgICAgICBzd2l0Y2ggKGluKSB7DQogICAgICAg
ICAgICAgICAgICAgIGNhc2UgInF1ZXJ5IjoNCiAgICAgICAgICAgICAgICAgICAgICAgIHByb3Bl
cnR5TmFtZSA9IHF1ZXJ5UHJlZml4ICsgbmFtZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGJy
ZWFrOw0KICAgICAgICAgICAgICAgICAgICBjYXNlICJoZWFkZXIiOg0KICAgICAgICAgICAgICAg
ICAgICAgICAgcHJvcGVydHlOYW1lID0gaGVhZGVyUHJlZml4ICsgbmFtZTsNCiAgICAgICAgICAg
ICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICBjYXNlICJwYXRoIjoNCiAg
ICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5TmFtZSA9IHBhdGhQYXJhbVByZWZpeCArIG5h
bWU7DQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAg
ZGVmYXVsdDoNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOw0KICAgICAgICAgICAg
ICAgIH0NCiAgICAgICAgICAgICAgICBKU09OT2JqZWN0IHNjaGVtYSA9IHJlc29sdmVTY2hlbWEo
cGFyYW0uZ2V0SlNPTk9iamVjdCgic2NoZW1hIiksIGNvbXBvbmVudHMpOw0KICAgICAgICAgICAg
ICAgIHNjaGVtYSA9IGNsZWFuU2NoZW1hKHNjaGVtYSk7DQoNCiAgICAgICAgICAgICAgICAvLyBJ
ZiBwcmltaXRpdmUgdHlwZSwgb25seSBrZWVwIHJlbGV2YW50IGtleXMNCiAgICAgICAgICAgICAg
ICBpZiAoc2NoZW1hLmhhcygidHlwZSIpDQogICAgICAgICAgICAgICAgICAgICAgICAmJiAhc2No
ZW1hLmdldFN0cmluZygidHlwZSIpLmVxdWFscygib2JqZWN0IikNCiAgICAgICAgICAgICAgICAg
ICAgICAgICYmICFzY2hlbWEuZ2V0U3RyaW5nKCJ0eXBlIikuZXF1YWxzKCJhcnJheSIpKSB7DQog
ICAgICAgICAgICAgICAgICAgIEpTT05PYmplY3QgcHJpbWl0aXZlID0gbmV3IEpTT05PYmplY3Qo
KTsNCiAgICAgICAgICAgICAgICAgICAgcHJpbWl0aXZlLnB1dCgidHlwZSIsIHNjaGVtYS5nZXRT
dHJpbmcoInR5cGUiKSk7DQogICAgICAgICAgICAgICAgICAgIGlmIChzY2hlbWEuaGFzKCJ0aXRs
ZSIpKSBwcmltaXRpdmUucHV0KCJ0aXRsZSIsIHNjaGVtYS5nZXQoInRpdGxlIikpOw0KICAgICAg
ICAgICAgICAgICAgICBpZiAoc2NoZW1hLmhhcygibWF4TGVuZ3RoIikpIHByaW1pdGl2ZS5wdXQo
Im1heExlbmd0aCIsIHNjaGVtYS5nZXQoIm1heExlbmd0aCIpKTsNCiAgICAgICAgICAgICAgICAg
ICAgaWYgKHNjaGVtYS5oYXMoIm1pbmltdW0iKSkgcHJpbWl0aXZlLnB1dCgibWluaW11bSIsIHNj
aGVtYS5nZXQoIm1pbmltdW0iKSk7DQogICAgICAgICAgICAgICAgICAgIGlmIChzY2hlbWEuaGFz
KCJtYXhpbXVtIikpIHByaW1pdGl2ZS5wdXQoIm1heGltdW0iLCBzY2hlbWEuZ2V0KCJtYXhpbXVt
IikpOw0KICAgICAgICAgICAgICAgICAgICBpZiAoc2NoZW1hLmhhcygiZW51bSIpKSBwcmltaXRp
dmUucHV0KCJlbnVtIiwgc2NoZW1hLmdldCgiZW51bSIpKTsNCiAgICAgICAgICAgICAgICAgICAg
c2NoZW1hID0gcHJpbWl0aXZlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBp
bnB1dFByb3BzLnB1dChwcm9wZXJ0eU5hbWUsIHNjaGVtYSk7DQogICAgICAgICAgICAgICAgaWYg
KHBhcmFtLm9wdEJvb2xlYW4oInJlcXVpcmVkIiwgZmFsc2UpKSB7DQogICAgICAgICAgICAgICAg
ICAgIHJlcXVpcmVkUGFyYW1zLnB1dChwcm9wZXJ0eU5hbWUpOw0KICAgICAgICAgICAgICAgIH0N
CiAgICAgICAgICAgIH0NCg0KICAgICAgICAgLy8gLS0tIEhhbmRsZSByZXF1ZXN0Qm9keSAtLS0N
CiAgICAgICAgICAgIA0KICAgICAgICAgICAgaWYgKG9wLmhhcygicmVxdWVzdEJvZHkiKSkgew0K
ICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgIEpTT05PYmplY3QgYm9k
eVNjaGVtYSA9IG9wLmdldEpTT05PYmplY3QoInJlcXVlc3RCb2R5IikNCiAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAuZ2V0SlNPTk9iamVjdCgiY29udGVudCIpDQogICAgICAgICAgICAgICAg
ICAgICAgICAgICAgLmdldEpTT05PYmplY3QoImFwcGxpY2F0aW9uL2pzb24iKQ0KICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIC5nZXRKU09OT2JqZWN0KCJzY2hlbWEiKTsNCg0KICAgICAgICAg
ICAgICAgICAgICBKU09OT2JqZWN0IHJlc29sdmVkQm9keSA9IHJlc29sdmVTY2hlbWEoYm9keVNj
aGVtYSwgY29tcG9uZW50cyk7DQogICAgICAgICAgICAgICAgICAgIEpTT05PYmplY3QgY2xlYW5l
ZEJvZHkgPSBjbGVhblNjaGVtYShyZXNvbHZlZEJvZHkpOw0KDQogICAgICAgICAgICAgICAgICAg
IC8vIEVuc3VyZSByb290IHNjaGVtYSBpcyBhbHdheXMgYW4gb2JqZWN0DQogICAgICAgICAgICAg
ICAgICAgIGlmICghIm9iamVjdCIuZXF1YWxzSWdub3JlQ2FzZShjbGVhbmVkQm9keS5vcHRTdHJp
bmcoInR5cGUiKSkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIEpTT05PYmplY3Qgd3JhcHBl
ciA9IG5ldyBKU09OT2JqZWN0KCk7DQogICAgICAgICAgICAgICAgICAgICAgICB3cmFwcGVyLnB1
dCgidHlwZSIsICJvYmplY3QiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHdyYXBwZXIucHV0
KCJwcm9wZXJ0aWVzIiwgY2xlYW5lZEJvZHkub3B0SlNPTk9iamVjdCgicHJvcGVydGllcyIpKTsN
CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbGVhbmVkQm9keS5oYXMoInJlcXVpcmVkIikp
IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cmFwcGVyLnB1dCgicmVxdWlyZWQiLCBj
bGVhbmVkQm9keS5nZXRKU09OQXJyYXkoInJlcXVpcmVkIikpOw0KICAgICAgICAgICAgICAgICAg
ICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgY2xlYW5lZEJvZHkgPSB3cmFwcGVyOw0K
ICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgLy8gSWYgbm8gcmVx
dWlyZWQgYXJyYXkgaXMgc3BlY2lmaWVkLCBhc3N1bWUgYWxsIHByb3BlcnRpZXMgYXJlIHJlcXVp
cmVkDQogICAgICAgICAgICAgICAgICAgIGlmICghY2xlYW5lZEJvZHkuaGFzKCJyZXF1aXJlZCIp
KSB7DQogICAgICAgICAgICAgICAgICAgICAgICBKU09OQXJyYXkgYWxsUmVxdWlyZWQgPSBuZXcg
SlNPTkFycmF5KCk7DQogICAgICAgICAgICAgICAgICAgICAgICBKU09OT2JqZWN0IGJvZHlQcm9w
cyA9IGNsZWFuZWRCb2R5Lm9wdEpTT05PYmplY3QoInByb3BlcnRpZXMiKTsNCiAgICAgICAgICAg
ICAgICAgICAgICAgIGlmIChib2R5UHJvcHMgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIGZvciAoU3RyaW5nIHByb3BOYW1lIDogYm9keVByb3BzLmtleVNldCgpKSB7DQog
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbFJlcXVpcmVkLnB1dChwcm9wTmFtZSk7
DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAg
fQ0KICAgICAgICAgICAgICAgICAgICAgICAgY2xlYW5lZEJvZHkucHV0KCJyZXF1aXJlZCIsIGFs
bFJlcXVpcmVkKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAg
IC8vIE1lcmdlIHBhcmFtZXRlcnMgcHJvcGVydGllcyB3aXRoIHJlcXVlc3RCb2R5IHByb3BlcnRp
ZXMNCiAgICAgICAgICAgICAgICAgICAgSlNPTk9iamVjdCBtZXJnZWRTY2hlbWEgPSBuZXcgSlNP
Tk9iamVjdCgpOw0KICAgICAgICAgICAgICAgICAgICBtZXJnZWRTY2hlbWEucHV0KCJ0eXBlIiwg
Im9iamVjdCIpOw0KDQogICAgICAgICAgICAgICAgICAgIC8vIE1lcmdlIGlucHV0UHJvcHMgKHBh
cmFtZXRlcnMpDQogICAgICAgICAgICAgICAgICAgIEpTT05PYmplY3QgbWVyZ2VkUHJvcHMgPSBu
ZXcgSlNPTk9iamVjdCgpOw0KICAgICAgICAgICAgICAgICAgICBmb3IgKFN0cmluZyBrZXkgOiBp
bnB1dFByb3BzLmtleVNldCgpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBtZXJnZWRQcm9w
cy5wdXQoa2V5LCBpbnB1dFByb3BzLmdldChrZXkpKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0K
DQogICAgICAgICAgICAgICAgICAgIC8vIE1lcmdlIHJlcXVlc3RCb2R5IHByb3BlcnRpZXMNCiAg
ICAgICAgICAgICAgICAgICAgaWYgKGNsZWFuZWRCb2R5LmhhcygicHJvcGVydGllcyIpKSB7DQog
ICAgICAgICAgICAgICAgICAgICAgICBKU09OT2JqZWN0IGJvZHlQcm9wcyA9IGNsZWFuZWRCb2R5
LmdldEpTT05PYmplY3QoInByb3BlcnRpZXMiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGZv
ciAoU3RyaW5nIGtleSA6IGJvZHlQcm9wcy5rZXlTZXQoKSkgew0KICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIG1lcmdlZFByb3BzLnB1dChrZXksIGJvZHlQcm9wcy5nZXQoa2V5KSk7DQogICAg
ICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAg
ICAgICAgICAgbWVyZ2VkU2NoZW1hLnB1dCgicHJvcGVydGllcyIsIG1lcmdlZFByb3BzKTsNCg0K
ICAgICAgICAgICAgICAgICAgICAvLyBNZXJnZSByZXF1aXJlZCBhcnJheXMgKHBhcmFtZXRlcnMg
KyByZXF1ZXN0Qm9keSkNCiAgICAgICAgICAgICAgICAgICAgSlNPTkFycmF5IG1lcmdlZFJlcXVp
cmVkID0gbmV3IEpTT05BcnJheSgpOw0KICAgICAgICAgICAgICAgICAgICBmb3IgKGludCBpID0g
MDsgaSA8IHJlcXVpcmVkUGFyYW1zLmxlbmd0aCgpOyBpKyspIHsNCiAgICAgICAgICAgICAgICAg
ICAgICAgIG1lcmdlZFJlcXVpcmVkLnB1dChyZXF1aXJlZFBhcmFtcy5nZXRTdHJpbmcoaSkpOw0K
ICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIEpTT05BcnJheSBib2R5
UmVxdWlyZWQgPSBjbGVhbmVkQm9keS5vcHRKU09OQXJyYXkoInJlcXVpcmVkIik7DQogICAgICAg
ICAgICAgICAgICAgIGlmIChib2R5UmVxdWlyZWQgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAg
ICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBib2R5UmVxdWlyZWQubGVuZ3RoKCk7IGkrKykg
ew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0cmluZyByZXEgPSBib2R5UmVxdWlyZWQu
Z2V0U3RyaW5nKGkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbWVyZ2VkUmVx
dWlyZWQudG9MaXN0KCkuY29udGFpbnMocmVxKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBtZXJnZWRSZXF1aXJlZC5wdXQocmVxKTsNCiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0N
Cg0KICAgICAgICAgICAgICAgICAgICBpZiAobWVyZ2VkUmVxdWlyZWQubGVuZ3RoKCkgPiAwKSB7
DQogICAgICAgICAgICAgICAgICAgICAgICBtZXJnZWRTY2hlbWEucHV0KCJyZXF1aXJlZCIsIG1l
cmdlZFJlcXVpcmVkKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAg
ICAgIC8vIFJlY3Vyc2l2ZWx5IHByb3BhZ2F0ZSByZXF1aXJlZCBmcm9tIGNvbXBvbmVudHMgaWYg
YW55DQogICAgICAgICAgICAgICAgICAgIHByb3BhZ2F0ZVJlcXVpcmVkRnJvbUNvbXBvbmVudHMo
bWVyZ2VkU2NoZW1hLCBjb21wb25lbnRzKTsNCg0KICAgICAgICAgICAgICAgICAgICBpbnB1dFNj
aGVtYSA9IG1lcmdlZFNjaGVtYTsNCg0KICAgICAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlv
biBlKSB7DQogICAgICAgICAgICAgICAgICAgIFN5c3RlbS5lcnIucHJpbnRsbigiRmFpbGVkIHRv
IHJlc29sdmUgcmVxdWVzdEJvZHkgc2NoZW1hIGZvciAiDQogICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICArIG9wZXJhdGlvbklkICsgIjogIiArIGUuZ2V0TWVzc2FnZSgpKTsN
CiAgICAgICAgICAgICAgICAgICAgLy8gRmFsbGJhY2sgdG8gcGFyYW1ldGVycyBvbmx5IHNjaGVt
YSBpZiByZXF1ZXN0Qm9keSBmYWlscw0KICAgICAgICAgICAgICAgICAgICBpbnB1dFNjaGVtYS5w
dXQoInByb3BlcnRpZXMiLCBpbnB1dFByb3BzKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHJl
cXVpcmVkUGFyYW1zLmxlbmd0aCgpID4gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgaW5w
dXRTY2hlbWEucHV0KCJyZXF1aXJlZCIsIHJlcXVpcmVkUGFyYW1zKTsNCiAgICAgICAgICAgICAg
ICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAg
ICAgICAgICAgLy8gTm8gcmVxdWVzdEJvZHksIG9ubHkgcGFyYW1ldGVycw0KICAgICAgICAgICAg
ICAgIGlucHV0U2NoZW1hLnB1dCgicHJvcGVydGllcyIsIGlucHV0UHJvcHMpOw0KICAgICAgICAg
ICAgICAgIGlmIChyZXF1aXJlZFBhcmFtcy5sZW5ndGgoKSA+IDApIHsNCiAgICAgICAgICAgICAg
ICAgICAgaW5wdXRTY2hlbWEucHV0KCJyZXF1aXJlZCIsIHJlcXVpcmVkUGFyYW1zKTsNCiAgICAg
ICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCg0KICAgICAgICAgICAgDQogICAgICAgICAg
ICAvKg0KICAgICAgICAgICAgaWYgKG9wLmhhcygicmVxdWVzdEJvZHkiKSkgew0KICAgICAgICAg
ICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgIEpTT05PYmplY3QgYm9keVNjaGVtYSA9
IG9wLmdldEpTT05PYmplY3QoInJlcXVlc3RCb2R5IikNCiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAuZ2V0SlNPTk9iamVjdCgiY29udGVudCIpDQogICAgICAgICAgICAgICAgICAgICAgICAg
ICAgLmdldEpTT05PYmplY3QoImFwcGxpY2F0aW9uL2pzb24iKQ0KICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIC5nZXRKU09OT2JqZWN0KCJzY2hlbWEiKTsNCg0KICAgICAgICAgICAgICAgICAg
ICAvLyBSZXNvbHZlICRyZWYgYW5kIG1lcmdlIE9wZW5BUEktcmVxdWlyZWQgaW5mbw0KICAgICAg
ICAgICAgICAgICAgICBKU09OT2JqZWN0IHJlc29sdmVkQm9keSA9IHJlc29sdmVTY2hlbWEoYm9k
eVNjaGVtYSwgY29tcG9uZW50cyk7DQogICAgICAgICAgICAgICAgICAgIEpTT05PYmplY3QgY2xl
YW5lZEJvZHkgPSBjbGVhblNjaGVtYShyZXNvbHZlZEJvZHkpOw0KDQogICAgICAgICAgICAgICAg
ICAgIC8vIEVuc3VyZSByb290IHNjaGVtYSBpcyBhbHdheXMgYW4gb2JqZWN0DQogICAgICAgICAg
ICAgICAgICAgIGlmICghIm9iamVjdCIuZXF1YWxzSWdub3JlQ2FzZShjbGVhbmVkQm9keS5vcHRT
dHJpbmcoInR5cGUiKSkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIEpTT05PYmplY3Qgd3Jh
cHBlciA9IG5ldyBKU09OT2JqZWN0KCk7DQogICAgICAgICAgICAgICAgICAgICAgICB3cmFwcGVy
LnB1dCgidHlwZSIsICJvYmplY3QiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHdyYXBwZXIu
cHV0KCJwcm9wZXJ0aWVzIiwgY2xlYW5lZEJvZHkub3B0SlNPTk9iamVjdCgicHJvcGVydGllcyIp
KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbGVhbmVkQm9keS5oYXMoInJlcXVpcmVk
IikpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cmFwcGVyLnB1dCgicmVxdWlyZWQi
LCBjbGVhbmVkQm9keS5nZXRKU09OQXJyYXkoInJlcXVpcmVkIikpOw0KICAgICAgICAgICAgICAg
ICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgY2xlYW5lZEJvZHkgPSB3cmFwcGVy
Ow0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgLy8gUHJlc2Vy
dmUgcmVxdWlyZWQgYXJyYXkgZnJvbSBPcGVuQVBJIGlmIGF2YWlsYWJsZQ0KICAgICAgICAgICAg
ICAgICAgICBpZiAocmVzb2x2ZWRCb2R5LmhhcygicmVxdWlyZWQiKSkgew0KICAgICAgICAgICAg
ICAgICAgICAgICAgY2xlYW5lZEJvZHkucHV0KCJyZXF1aXJlZCIsIHJlc29sdmVkQm9keS5nZXRK
U09OQXJyYXkoInJlcXVpcmVkIikpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAg
ICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICBpZiAoY2xlYW5lZEJvZHkuaGFzKCJwcm9w
ZXJ0aWVzIikpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIEpTT05PYmplY3QgcHJvcHMgPSBj
bGVhbmVkQm9keS5nZXRKU09OT2JqZWN0KCJwcm9wZXJ0aWVzIik7DQogICAgICAgICAgICAgICAg
ICAgICAgICBKU09OQXJyYXkgcmVxdWlyZWRBcnIgPSBjbGVhbmVkQm9keS5vcHRKU09OQXJyYXko
InJlcXVpcmVkIik7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXF1aXJlZEFyciA9
PSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRBcnIgPSBuZXcg
SlNPTkFycmF5KCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChTdHJpbmcgcHJv
cE5hbWUgOiBwcm9wcy5rZXlTZXQoKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICByZXF1aXJlZEFyci5wdXQocHJvcE5hbWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAg
IH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhbmVkQm9keS5wdXQoInJlcXVpcmVk
IiwgcmVxdWlyZWRBcnIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAvLyBFbnN1cmUgYWxsIHByb3BlcnRpZXMgbWFya2VkIHJl
cXVpcmVkIGluIE9wZW5BUEkgcmVtYWluDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g
YW5kIG9wdGlvbmFsbHkgYWRkIGFueSBtaXNzaW5nIG9uZXMNCiAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBmb3IgKFN0cmluZyBwcm9wTmFtZSA6IHByb3BzLmtleVNldCgpKSB7DQogICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVxdWlyZWRBcnIudG9MaXN0KCkuY29udGFp
bnMocHJvcE5hbWUpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1
aXJlZEFyci5wdXQocHJvcE5hbWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9
DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAg
fQ0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgLy8gUmVjdXJz
aXZlbHkgcHJvcGFnYXRlIHJlcXVpcmVkIGZvciBuZXN0ZWQgJHJlZg0KICAgICAgICAgICAgICAg
ICAgICBwcm9wYWdhdGVSZXF1aXJlZEZyb21Db21wb25lbnRzKGNsZWFuZWRCb2R5LCBjb21wb25l
bnRzKTsNCg0KICAgICAgICAgICAgICAgICAgICBpbnB1dFNjaGVtYSA9IGNsZWFuZWRCb2R5Ow0K
DQogICAgICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgICAg
ICAgICAgU3lzdGVtLmVyci5wcmludGxuKCJGYWlsZWQgdG8gcmVzb2x2ZSByZXF1ZXN0Qm9keSBz
Y2hlbWEgZm9yICINCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgb3Bl
cmF0aW9uSWQgKyAiOiAiICsgZS5nZXRNZXNzYWdlKCkpOw0KICAgICAgICAgICAgICAgIH0NCiAg
ICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgaW5wdXRTY2hlbWEucHV0KCJwcm9w
ZXJ0aWVzIiwgaW5wdXRQcm9wcyk7DQogICAgICAgICAgICAgICAgaWYgKHJlcXVpcmVkUGFyYW1z
Lmxlbmd0aCgpID4gMCkgew0KICAgICAgICAgICAgICAgICAgICBpbnB1dFNjaGVtYS5wdXQoInJl
cXVpcmVkIiwgcmVxdWlyZWRQYXJhbXMpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAg
IH0NCg0KKi8NCg0KICAgICAgICAgLy8gLS0tIE91dHB1dCBzY2hlbWEgLS0tDQogICAgICAgICAg
ICBKU09OT2JqZWN0IG91dHB1dFNjaGVtYSA9IG5ldyBKU09OT2JqZWN0KCk7DQogICAgICAgICAg
ICBKU09OT2JqZWN0IHJlc3BvbnNlcyA9IG9wLmdldEpTT05PYmplY3QoInJlc3BvbnNlcyIpOyAg
Ly8gPC0tIFRoaXMgbXVzdCBzdGF5DQogICAgICAgICAgICBib29sZWFuIGZvdW5kSnNvblJlc3Bv
bnNlID0gZmFsc2U7DQoNCiAgICAgICAgICAgIGZvciAoU3RyaW5nIHN0YXR1cyA6IHJlc3BvbnNl
cy5rZXlTZXQoKSkgew0KICAgICAgICAgICAgICAgIEpTT05PYmplY3QgcmVzcCA9IHJlc3BvbnNl
cy5nZXRKU09OT2JqZWN0KHN0YXR1cyk7DQogICAgICAgICAgICAgICAgaWYgKHJlc3AuaGFzKCJj
b250ZW50IikpIHsNCiAgICAgICAgICAgICAgICAgICAgSlNPTk9iamVjdCBjb250ZW50T2JqID0g
cmVzcC5nZXRKU09OT2JqZWN0KCJjb250ZW50Iik7DQogICAgICAgICAgICAgICAgICAgIGlmIChj
b250ZW50T2JqLmhhcygiYXBwbGljYXRpb24vanNvbiIpKSB7DQogICAgICAgICAgICAgICAgICAg
ICAgICBKU09OT2JqZWN0IHNjaGVtYSA9IGNvbnRlbnRPYmoNCiAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgLmdldEpTT05PYmplY3QoImFwcGxpY2F0aW9uL2pzb24iKQ0KICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAuZ2V0SlNPTk9iamVjdCgic2NoZW1hIik7DQogICAgICAg
ICAgICAgICAgICAgICAgICBKU09OT2JqZWN0IG9yaWdpbmFsU2NoZW1hID0gY2xlYW5TY2hlbWEo
cmVzb2x2ZVNjaGVtYShzY2hlbWEsIGNvbXBvbmVudHMpKTsNCiAgICAgICAgICAgICAgICAgICAg
ICAgIEpTT05PYmplY3Qgd3JhcHBlZE91dHB1dFNjaGVtYSA9IG5ldyBKU09OT2JqZWN0KCk7DQog
ICAgICAgICAgICAgICAgICAgICAgICB3cmFwcGVkT3V0cHV0U2NoZW1hLnB1dCgidHlwZSIsICJv
YmplY3QiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIEpTT05PYmplY3QgcHJvcHMgPSBuZXcg
SlNPTk9iamVjdCgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHMucHV0KCJyZXN1bHQi
LCBvcmlnaW5hbFNjaGVtYSk7DQogICAgICAgICAgICAgICAgICAgICAgICB3cmFwcGVkT3V0cHV0
U2NoZW1hLnB1dCgicHJvcGVydGllcyIsIHByb3BzKTsNCiAgICAgICAgICAgICAgICAgICAgICAg
IHdyYXBwZWRPdXRwdXRTY2hlbWEucHV0KCJyZXF1aXJlZCIsIG5ldyBKU09OQXJyYXkoKS5wdXQo
InJlc3VsdCIpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFNjaGVtYSA9IHdyYXBw
ZWRPdXRwdXRTY2hlbWE7DQogICAgICAgICAgICAgICAgICAgICAgICBmb3VuZEpzb25SZXNwb25z
ZSA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAg
ICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAg
aWYgKCFmb3VuZEpzb25SZXNwb25zZSkgew0KICAgICAgICAgICAgICAgIG91dHB1dFNjaGVtYS5w
dXQoInR5cGUiLCAib2JqZWN0Iik7DQogICAgICAgICAgICAgICAgb3V0cHV0U2NoZW1hLnB1dCgi
cHJvcGVydGllcyIsIG5ldyBKU09OT2JqZWN0KCkpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAg
ICAgICAvLyAtLS0gQnVpbGQgdG9vbCBvYmplY3QgLS0tDQogICAgICAgICAgICBKU09OT2JqZWN0
IHRvb2wgPSBuZXcgSlNPTk9iamVjdCgpOw0KICAgICAgICAgICAgdG9vbC5wdXQoIm5hbWUiLCB0
b29sTmFtZSk7DQogICAgICAgICAgICB0b29sLnB1dCgiZGVzY3JpcHRpb24iLCBzdW1tYXJ5KTsN
CiAgICAgICAgICAgIHRvb2wucHV0KCJpbnB1dFNjaGVtYSIsIGlucHV0U2NoZW1hKTsNCiAgICAg
ICAgICAgIHRvb2wucHV0KCJvdXRwdXRTY2hlbWEiLCBvdXRwdXRTY2hlbWEpOw0KDQogICAgICAg
ICAgICB0b29scy5wdXQodG9vbCk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBKU09OT2JqZWN0
IHJlc3VsdCA9IG5ldyBKU09OT2JqZWN0KCk7DQogICAgcmVzdWx0LnB1dCgidG9vbHMiLCB0b29s
cyk7DQogICAgSURhdGFVdGlsLnB1dChwaXBlbGluZUN1cnNvciwgInRvb2xKU09OU3RyaW5nIiwg
cmVzdWx0LnRvU3RyaW5nKCkpOw0KICAgIHBpcGVsaW5lQ3Vyc29yLmRlc3Ryb3koKTs=</value>
</Values>
