<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="name">convertOASToMCP</value>
  <value name="encodeutf8">true</value>
  <value name="body">SURhdGFDdXJzb3IgcGlwZWxpbmVDdXJzb3IgPSBwaXBlbGluZS5nZXRDdXJzb3IoKTsNCiAgICBT
dHJpbmcgb3BlbkFQSVN0cmluZyA9IElEYXRhVXRpbC5nZXRTdHJpbmcocGlwZWxpbmVDdXJzb3Is
ICJvcGVuQVBJU3RyaW5nIik7DQogICAgIA0KICAgIFN0cmluZyBoZWFkZXJQcmVmaXggPSBJRGF0
YVV0aWwuZ2V0U3RyaW5nKHBpcGVsaW5lQ3Vyc29yLCAiaGVhZGVyUHJlZml4Iik7DQogICAgU3Ry
aW5nIHBhdGhQYXJhbVByZWZpeCA9IElEYXRhVXRpbC5nZXRTdHJpbmcocGlwZWxpbmVDdXJzb3Is
ICJwYXRoUGFyYW1QcmVmaXgiKTsNCiAgICBTdHJpbmcgcXVlcnlQcmVmaXggPSBJRGF0YVV0aWwu
Z2V0U3RyaW5nKHBpcGVsaW5lQ3Vyc29yLCAicXVlcnlQcmVmaXgiKTsNCiAgICBTdHJpbmcgbWNw
T2JqZWN0TmFtZSA9IElEYXRhVXRpbC5nZXRTdHJpbmcocGlwZWxpbmVDdXJzb3IsICJtY3BPYmpl
Y3ROYW1lIik7DQogICAgDQogICAgU3RyaW5nIGNvbnRlbnQgPSBvcGVuQVBJU3RyaW5nOw0KICAg
IEpTT05PYmplY3Qgb3BlbkFwaSA9IG5ldyBKU09OT2JqZWN0KGNvbnRlbnQpOw0KICAgIEpTT05P
YmplY3QgY29tcG9uZW50cyA9IG51bGw7DQogICAgaWYgKG9wZW5BcGkuaGFzKCJjb21wb25lbnRz
IikpIHsNCiAgICAgICBjb21wb25lbnRzID0gb3BlbkFwaS5nZXRKU09OT2JqZWN0KCJjb21wb25l
bnRzIik7DQogICAgfQ0KDQogICAgSlNPTk9iamVjdCBwYXRocyA9IG9wZW5BcGkuZ2V0SlNPTk9i
amVjdCgicGF0aHMiKTsNCiAgICBKU09OQXJyYXkgdG9vbHMgPSBuZXcgSlNPTkFycmF5KCk7DQog
ICAgU2V0PFN0cmluZz4gaHR0cE1ldGhvZHMgPSBTZXQub2YoImdldCIsICJwb3N0IiwgInB1dCIs
ICJkZWxldGUiLCAicGF0Y2giLCAiaGVhZCIsICJvcHRpb25zIik7DQoNCiAgICBmb3IgKFN0cmlu
ZyBwYXRoIDogcGF0aHMua2V5U2V0KCkpIHsNCiAgICAgICAgSlNPTk9iamVjdCBtZXRob2RzID0g
cGF0aHMuZ2V0SlNPTk9iamVjdChwYXRoKTsNCg0KICAgICAgICBmb3IgKFN0cmluZyBtZXRob2RL
ZXkgOiBtZXRob2RzLmtleVNldCgpKSB7DQogICAgICAgICAgICBpZiAoIWh0dHBNZXRob2RzLmNv
bnRhaW5zKG1ldGhvZEtleS50b0xvd2VyQ2FzZSgpKSkgY29udGludWU7DQoNCiAgICAgICAgICAg
IEpTT05PYmplY3Qgb3AgPSBtZXRob2RzLmdldEpTT05PYmplY3QobWV0aG9kS2V5KTsNCiAgICAg
ICAgICAgIGlmICghb3AuaGFzKCJvcGVyYXRpb25JZCIpKSBjb250aW51ZTsNCg0KICAgICAgICAg
ICAgU3RyaW5nIG9wZXJhdGlvbklkID0gb3AuZ2V0U3RyaW5nKCJvcGVyYXRpb25JZCIpOw0KICAg
ICAgICAgICAgU3RyaW5nIHN1bW1hcnkgPSBvcC5vcHRTdHJpbmcoInN1bW1hcnkiLCAiTm8gZGVz
Y3JpcHRpb24iKTsNCg0KICAgICAgICAgICAgLy8gLS0tIEJ1aWxkIHRvb2wgbmFtZSBhbmQgSUQg
d2l0aCBtY3BPYmplY3ROYW1lIGlmIHByZXNlbnQgLS0tDQogICAgICAgICAgICBTdHJpbmcgdG9v
bE5hbWU7DQogICAgICAgICAgICBpZiAobWNwT2JqZWN0TmFtZSAhPSBudWxsICYmICFtY3BPYmpl
Y3ROYW1lLmlzRW1wdHkoKSkgew0KICAgICAgICAgICAgICAgIHRvb2xOYW1lID0gbWNwT2JqZWN0
TmFtZSArICJfIiArIG9wZXJhdGlvbklkOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAg
ICAgICAgICB0b29sTmFtZSA9IG9wZXJhdGlvbklkOw0KICAgICAgICAgICAgfQ0KICAgICAgICAg
ICAgU3RyaW5nIHRvb2xJRDsNCiAgICAgICAgICAgIGlmIChtY3BPYmplY3ROYW1lICE9IG51bGwg
JiYgIW1jcE9iamVjdE5hbWUuaXNFbXB0eSgpKSB7DQogICAgICAgICAgICAgICAgdG9vbElEID0g
bWNwT2JqZWN0TmFtZSArICJfIiArIG9wZXJhdGlvbklkOw0KICAgICAgICAgICAgfSBlbHNlIHsN
CiAgICAgICAgICAgICAgICB0b29sSUQgPSBvcGVyYXRpb25JZDsNCiAgICAgICAgICAgIH0NCg0K
ICAgICAgICAgICAgLy8gLS0tIElucHV0IHNjaGVtYSAtLS0NCiAgICAgICAgICAgIEpTT05PYmpl
Y3QgaW5wdXRTY2hlbWEgPSBuZXcgSlNPTk9iamVjdCgpOw0KICAgICAgICAgICAgaW5wdXRTY2hl
bWEucHV0KCJ0eXBlIiwgIm9iamVjdCIpOw0KICAgICAgICAgICAgSlNPTk9iamVjdCBpbnB1dFBy
b3BzID0gbmV3IEpTT05PYmplY3QoKTsNCiAgICAgICAgICAgIEpTT05BcnJheSByZXF1aXJlZFBh
cmFtcyA9IG5ldyBKU09OQXJyYXkoKTsNCg0KICAgICAgICAgICAgLy8gQ29sbGVjdCBwYXJhbWV0
ZXJzDQogICAgICAgICAgICBKU09OQXJyYXkgcGFyYW1ldGVycyA9IG5ldyBKU09OQXJyYXkoKTsN
CiAgICAgICAgICAgIGlmIChtZXRob2RzLmhhcygicGFyYW1ldGVycyIpKSB7DQogICAgICAgICAg
ICAgICAgZm9yIChPYmplY3QgcCA6IG1ldGhvZHMuZ2V0SlNPTkFycmF5KCJwYXJhbWV0ZXJzIikp
IHsNCiAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVycy5wdXQocCk7DQogICAgICAgICAgICAg
ICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKG9wLmhhcygicGFyYW1ldGVycyIp
KSB7DQogICAgICAgICAgICAgICAgZm9yIChPYmplY3QgcCA6IG9wLmdldEpTT05BcnJheSgicGFy
YW1ldGVycyIpKSB7DQogICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlcnMucHV0KHApOw0KICAg
ICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgZm9yIChpbnQgaSA9
IDA7IGkgPCBwYXJhbWV0ZXJzLmxlbmd0aCgpOyBpKyspIHsNCiAgICAgICAgICAgICAgICBKU09O
T2JqZWN0IHBhcmFtID0gcGFyYW1ldGVycy5nZXRKU09OT2JqZWN0KGkpOw0KICAgICAgICAgICAg
ICAgIC8vIElmIHRoZSBwYXJhbWV0ZXIgaXMgc3BlY2lmaWVkIHVzaW5nIGFuIGludGVybmFsIHJl
ZmVyZW5jZSwgdGhpcyByZWYgbmVlZHMgdG8gYmUgcmVzb2x2ZWQgYmVmb3JlIGV4dHJhY3Rpbmcg
dGhlIGluZm8NCgkJCQlpZiAocGFyYW0uaGFzKCIkcmVmIikpIHsNCgkJCSAgICAgICAgU3RyaW5n
IHJlZiA9IHBhcmFtLmdldFN0cmluZygiJHJlZiIpOyAvLyBlLmcuICIjL2NvbXBvbmVudHMvcGFy
YW1ldGVycy9YLVVuaXRUZXN0LVBhcmFtMSINCgkJCSAgICAgICAgU3RyaW5nW10gcmVmUGFydHMg
PSByZWYucmVwbGFjZSgiIy8iLCAiIikuc3BsaXQoIi8iKTsNCgkJCQ0KCQkJICAgICAgICBKU09O
T2JqZWN0IHJlc29sdmVkID0gb3BlbkFwaTsNCgkJCSAgICAgICAgZm9yIChTdHJpbmcgcGFydCA6
IHJlZlBhcnRzKSB7DQoJCQkgICAgICAgICAgICByZXNvbHZlZCA9IHJlc29sdmVkLmdldEpTT05P
YmplY3QocGFydCk7DQoJCQkgICAgICAgIH0NCgkJCQ0KCQkJICAgICAgICBleHRyYWN0UGFyYW1l
dGVyRGV0YWlscyhyZXNvbHZlZCwgcXVlcnlQcmVmaXgsIGhlYWRlclByZWZpeCwgcGF0aFBhcmFt
UHJlZml4LCBjb21wb25lbnRzLCBpbnB1dFByb3BzLCByZXF1aXJlZFBhcmFtcyk7DQoJCQkgICAg
fSBlbHNlIHsNCg0KCQkJICAgIAlleHRyYWN0UGFyYW1ldGVyRGV0YWlscyhwYXJhbSwgcXVlcnlQ
cmVmaXgsIGhlYWRlclByZWZpeCwgcGF0aFBhcmFtUHJlZml4LCBjb21wb25lbnRzLCBpbnB1dFBy
b3BzLCByZXF1aXJlZFBhcmFtcyk7DQoJCQkgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAg
ICAvLyAtLS0gSGFuZGxlIHJlcXVlc3RCb2R5IC0tLQ0KICAgICAgICAgICAgDQogICAgICAgICAg
ICBpZiAob3AuaGFzKCJyZXF1ZXN0Qm9keSIpKSB7DQogICAgICAgICAgICAgICAgdHJ5IHsNCiAg
ICAgICAgICAgICAgICAgICAgSlNPTk9iamVjdCBib2R5U2NoZW1hID0gb3AuZ2V0SlNPTk9iamVj
dCgicmVxdWVzdEJvZHkiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5nZXRKU09OT2Jq
ZWN0KCJjb250ZW50IikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZ2V0SlNPTk9iamVj
dCgiYXBwbGljYXRpb24vanNvbiIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmdldEpT
T05PYmplY3QoInNjaGVtYSIpOw0KDQogICAgICAgICAgICAgICAgICAgIEpTT05PYmplY3QgcmVz
b2x2ZWRCb2R5ID0gcmVzb2x2ZVNjaGVtYShib2R5U2NoZW1hLCBjb21wb25lbnRzKTsNCiAgICAg
ICAgICAgICAgICAgICAgSlNPTk9iamVjdCBjbGVhbmVkQm9keSA9IGNsZWFuU2NoZW1hKHJlc29s
dmVkQm9keSk7DQoNCiAgICAgICAgICAgICAgICAgICAgLy8gRW5zdXJlIHJvb3Qgc2NoZW1hIGlz
IGFsd2F5cyBhbiBvYmplY3QNCiAgICAgICAgICAgICAgICAgICAgaWYgKCEib2JqZWN0Ii5lcXVh
bHNJZ25vcmVDYXNlKGNsZWFuZWRCb2R5Lm9wdFN0cmluZygidHlwZSIpKSkgew0KICAgICAgICAg
ICAgICAgICAgICAgICAgSlNPTk9iamVjdCB3cmFwcGVyID0gbmV3IEpTT05PYmplY3QoKTsNCiAg
ICAgICAgICAgICAgICAgICAgICAgIHdyYXBwZXIucHV0KCJ0eXBlIiwgIm9iamVjdCIpOw0KICAg
ICAgICAgICAgICAgICAgICAgICAgd3JhcHBlci5wdXQoInByb3BlcnRpZXMiLCBjbGVhbmVkQm9k
eS5vcHRKU09OT2JqZWN0KCJwcm9wZXJ0aWVzIikpOw0KICAgICAgICAgICAgICAgICAgICAgICAg
aWYgKGNsZWFuZWRCb2R5LmhhcygicmVxdWlyZWQiKSkgew0KICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIHdyYXBwZXIucHV0KCJyZXF1aXJlZCIsIGNsZWFuZWRCb2R5LmdldEpTT05BcnJheSgi
cmVxdWlyZWQiKSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAg
ICAgICAgICBjbGVhbmVkQm9keSA9IHdyYXBwZXI7DQogICAgICAgICAgICAgICAgICAgIH0NCg0K
ICAgICAgICAgICAgICAgICAgICAvLyBJZiBubyByZXF1aXJlZCBhcnJheSBpcyBzcGVjaWZpZWQs
IGFzc3VtZSBhbGwgcHJvcGVydGllcyBhcmUgcmVxdWlyZWQNCiAgICAgICAgICAgICAgICAgICAg
aWYgKCFjbGVhbmVkQm9keS5oYXMoInJlcXVpcmVkIikpIHsNCiAgICAgICAgICAgICAgICAgICAg
ICAgIEpTT05BcnJheSBhbGxSZXF1aXJlZCA9IG5ldyBKU09OQXJyYXkoKTsNCiAgICAgICAgICAg
ICAgICAgICAgICAgIEpTT05PYmplY3QgYm9keVByb3BzID0gY2xlYW5lZEJvZHkub3B0SlNPTk9i
amVjdCgicHJvcGVydGllcyIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJvZHlQcm9w
cyAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChTdHJpbmcgcHJv
cE5hbWUgOiBib2R5UHJvcHMua2V5U2V0KCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgYWxsUmVxdWlyZWQucHV0KHByb3BOYW1lKTsNCiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAg
ICBjbGVhbmVkQm9keS5wdXQoInJlcXVpcmVkIiwgYWxsUmVxdWlyZWQpOw0KICAgICAgICAgICAg
ICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgLy8gTWVyZ2UgcGFyYW1ldGVycyBwcm9w
ZXJ0aWVzIHdpdGggcmVxdWVzdEJvZHkgcHJvcGVydGllcw0KICAgICAgICAgICAgICAgICAgICBK
U09OT2JqZWN0IG1lcmdlZFNjaGVtYSA9IG5ldyBKU09OT2JqZWN0KCk7DQogICAgICAgICAgICAg
ICAgICAgIG1lcmdlZFNjaGVtYS5wdXQoInR5cGUiLCAib2JqZWN0Iik7DQoNCiAgICAgICAgICAg
ICAgICAgICAgLy8gTWVyZ2UgaW5wdXRQcm9wcyAocGFyYW1ldGVycykNCiAgICAgICAgICAgICAg
ICAgICAgSlNPTk9iamVjdCBtZXJnZWRQcm9wcyA9IG5ldyBKU09OT2JqZWN0KCk7DQogICAgICAg
ICAgICAgICAgICAgIGZvciAoU3RyaW5nIGtleSA6IGlucHV0UHJvcHMua2V5U2V0KCkpIHsNCiAg
ICAgICAgICAgICAgICAgICAgICAgIG1lcmdlZFByb3BzLnB1dChrZXksIGlucHV0UHJvcHMuZ2V0
KGtleSkpOw0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgLy8g
TWVyZ2UgcmVxdWVzdEJvZHkgcHJvcGVydGllcw0KICAgICAgICAgICAgICAgICAgICBpZiAoY2xl
YW5lZEJvZHkuaGFzKCJwcm9wZXJ0aWVzIikpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIEpT
T05PYmplY3QgYm9keVByb3BzID0gY2xlYW5lZEJvZHkuZ2V0SlNPTk9iamVjdCgicHJvcGVydGll
cyIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChTdHJpbmcga2V5IDogYm9keVByb3Bz
LmtleVNldCgpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVyZ2VkUHJvcHMucHV0
KGtleSwgYm9keVByb3BzLmdldChrZXkpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAg
ICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBtZXJnZWRTY2hlbWEucHV0
KCJwcm9wZXJ0aWVzIiwgbWVyZ2VkUHJvcHMpOw0KDQogICAgICAgICAgICAgICAgICAgIC8vIE1l
cmdlIHJlcXVpcmVkIGFycmF5cyAocGFyYW1ldGVycyArIHJlcXVlc3RCb2R5KQ0KICAgICAgICAg
ICAgICAgICAgICBKU09OQXJyYXkgbWVyZ2VkUmVxdWlyZWQgPSBuZXcgSlNPTkFycmF5KCk7DQog
ICAgICAgICAgICAgICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgcmVxdWlyZWRQYXJhbXMubGVu
Z3RoKCk7IGkrKykgew0KICAgICAgICAgICAgICAgICAgICAgICAgbWVyZ2VkUmVxdWlyZWQucHV0
KHJlcXVpcmVkUGFyYW1zLmdldFN0cmluZyhpKSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAg
ICAgICAgICAgICAgICAgICAgSlNPTkFycmF5IGJvZHlSZXF1aXJlZCA9IGNsZWFuZWRCb2R5Lm9w
dEpTT05BcnJheSgicmVxdWlyZWQiKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGJvZHlSZXF1
aXJlZCAhPSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGludCBpID0gMDsg
aSA8IGJvZHlSZXF1aXJlZC5sZW5ndGgoKTsgaSsrKSB7DQogICAgICAgICAgICAgICAgICAgICAg
ICAgICAgU3RyaW5nIHJlcSA9IGJvZHlSZXF1aXJlZC5nZXRTdHJpbmcoaSk7DQogICAgICAgICAg
ICAgICAgICAgICAgICAgICAgaWYgKCFtZXJnZWRSZXF1aXJlZC50b0xpc3QoKS5jb250YWlucyhy
ZXEpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lcmdlZFJlcXVpcmVkLnB1
dChyZXEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAg
ICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgIGlm
IChtZXJnZWRSZXF1aXJlZC5sZW5ndGgoKSA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAg
IG1lcmdlZFNjaGVtYS5wdXQoInJlcXVpcmVkIiwgbWVyZ2VkUmVxdWlyZWQpOw0KICAgICAgICAg
ICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgLy8gUmVjdXJzaXZlbHkgcHJvcGFn
YXRlIHJlcXVpcmVkIGZyb20gY29tcG9uZW50cyBpZiBhbnkNCiAgICAgICAgICAgICAgICAgICAg
cHJvcGFnYXRlUmVxdWlyZWRGcm9tQ29tcG9uZW50cyhtZXJnZWRTY2hlbWEsIGNvbXBvbmVudHMp
Ow0KDQogICAgICAgICAgICAgICAgICAgIGlucHV0U2NoZW1hID0gbWVyZ2VkU2NoZW1hOw0KDQog
ICAgICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsNCiAgICAgICAgICAgICAgICAg
ICAgU3lzdGVtLmVyci5wcmludGxuKCJGYWlsZWQgdG8gcmVzb2x2ZSByZXF1ZXN0Qm9keSBzY2hl
bWEgZm9yICINCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgb3BlcmF0
aW9uSWQgKyAiOiAiICsgZS5nZXRNZXNzYWdlKCkpOw0KICAgICAgICAgICAgICAgICAgICAvLyBG
YWxsYmFjayB0byBwYXJhbWV0ZXJzIG9ubHkgc2NoZW1hIGlmIHJlcXVlc3RCb2R5IGZhaWxzDQog
ICAgICAgICAgICAgICAgICAgIGlucHV0U2NoZW1hLnB1dCgicHJvcGVydGllcyIsIGlucHV0UHJv
cHMpOw0KICAgICAgICAgICAgICAgICAgICBpZiAocmVxdWlyZWRQYXJhbXMubGVuZ3RoKCkgPiAw
KSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFNjaGVtYS5wdXQoInJlcXVpcmVkIiwg
cmVxdWlyZWRQYXJhbXMpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAg
fQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAvLyBObyByZXF1ZXN0Qm9k
eSwgb25seSBwYXJhbWV0ZXJzDQogICAgICAgICAgICAgICAgaW5wdXRTY2hlbWEucHV0KCJwcm9w
ZXJ0aWVzIiwgaW5wdXRQcm9wcyk7DQogICAgICAgICAgICAgICAgaWYgKHJlcXVpcmVkUGFyYW1z
Lmxlbmd0aCgpID4gMCkgew0KICAgICAgICAgICAgICAgICAgICBpbnB1dFNjaGVtYS5wdXQoInJl
cXVpcmVkIiwgcmVxdWlyZWRQYXJhbXMpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAg
IH0NCg0KDQogICAgICAgICAgICANCiAgICAgICAgICAgIC8qDQogICAgICAgICAgICBpZiAob3Au
aGFzKCJyZXF1ZXN0Qm9keSIpKSB7DQogICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAg
ICAgICAgICAgSlNPTk9iamVjdCBib2R5U2NoZW1hID0gb3AuZ2V0SlNPTk9iamVjdCgicmVxdWVz
dEJvZHkiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5nZXRKU09OT2JqZWN0KCJjb250
ZW50IikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZ2V0SlNPTk9iamVjdCgiYXBwbGlj
YXRpb24vanNvbiIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmdldEpTT05PYmplY3Qo
InNjaGVtYSIpOw0KDQogICAgICAgICAgICAgICAgICAgIC8vIFJlc29sdmUgJHJlZiBhbmQgbWVy
Z2UgT3BlbkFQSS1yZXF1aXJlZCBpbmZvDQogICAgICAgICAgICAgICAgICAgIEpTT05PYmplY3Qg
cmVzb2x2ZWRCb2R5ID0gcmVzb2x2ZVNjaGVtYShib2R5U2NoZW1hLCBjb21wb25lbnRzKTsNCiAg
ICAgICAgICAgICAgICAgICAgSlNPTk9iamVjdCBjbGVhbmVkQm9keSA9IGNsZWFuU2NoZW1hKHJl
c29sdmVkQm9keSk7DQoNCiAgICAgICAgICAgICAgICAgICAgLy8gRW5zdXJlIHJvb3Qgc2NoZW1h
IGlzIGFsd2F5cyBhbiBvYmplY3QNCiAgICAgICAgICAgICAgICAgICAgaWYgKCEib2JqZWN0Ii5l
cXVhbHNJZ25vcmVDYXNlKGNsZWFuZWRCb2R5Lm9wdFN0cmluZygidHlwZSIpKSkgew0KICAgICAg
ICAgICAgICAgICAgICAgICAgSlNPTk9iamVjdCB3cmFwcGVyID0gbmV3IEpTT05PYmplY3QoKTsN
CiAgICAgICAgICAgICAgICAgICAgICAgIHdyYXBwZXIucHV0KCJ0eXBlIiwgIm9iamVjdCIpOw0K
ICAgICAgICAgICAgICAgICAgICAgICAgd3JhcHBlci5wdXQoInByb3BlcnRpZXMiLCBjbGVhbmVk
Qm9keS5vcHRKU09OT2JqZWN0KCJwcm9wZXJ0aWVzIikpOw0KICAgICAgICAgICAgICAgICAgICAg
ICAgaWYgKGNsZWFuZWRCb2R5LmhhcygicmVxdWlyZWQiKSkgew0KICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIHdyYXBwZXIucHV0KCJyZXF1aXJlZCIsIGNsZWFuZWRCb2R5LmdldEpTT05BcnJh
eSgicmVxdWlyZWQiKSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAg
ICAgICAgICAgICBjbGVhbmVkQm9keSA9IHdyYXBwZXI7DQogICAgICAgICAgICAgICAgICAgIH0N
Cg0KICAgICAgICAgICAgICAgICAgICAvLyBQcmVzZXJ2ZSByZXF1aXJlZCBhcnJheSBmcm9tIE9w
ZW5BUEkgaWYgYXZhaWxhYmxlDQogICAgICAgICAgICAgICAgICAgIGlmIChyZXNvbHZlZEJvZHku
aGFzKCJyZXF1aXJlZCIpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjbGVhbmVkQm9keS5w
dXQoInJlcXVpcmVkIiwgcmVzb2x2ZWRCb2R5LmdldEpTT05BcnJheSgicmVxdWlyZWQiKSk7DQog
ICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAg
ICAgICAgIGlmIChjbGVhbmVkQm9keS5oYXMoInByb3BlcnRpZXMiKSkgew0KICAgICAgICAgICAg
ICAgICAgICAgICAgSlNPTk9iamVjdCBwcm9wcyA9IGNsZWFuZWRCb2R5LmdldEpTT05PYmplY3Qo
InByb3BlcnRpZXMiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIEpTT05BcnJheSByZXF1aXJl
ZEFyciA9IGNsZWFuZWRCb2R5Lm9wdEpTT05BcnJheSgicmVxdWlyZWQiKTsNCg0KICAgICAgICAg
ICAgICAgICAgICAgICAgaWYgKHJlcXVpcmVkQXJyID09IG51bGwpIHsNCiAgICAgICAgICAgICAg
ICAgICAgICAgICAgICByZXF1aXJlZEFyciA9IG5ldyBKU09OQXJyYXkoKTsNCiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBmb3IgKFN0cmluZyBwcm9wTmFtZSA6IHByb3BzLmtleVNldCgpKSB7
DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkQXJyLnB1dChwcm9wTmFt
ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIGNsZWFuZWRCb2R5LnB1dCgicmVxdWlyZWQiLCByZXF1aXJlZEFycik7DQogICAgICAg
ICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v
IEVuc3VyZSBhbGwgcHJvcGVydGllcyBtYXJrZWQgcmVxdWlyZWQgaW4gT3BlbkFQSSByZW1haW4N
CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhbmQgb3B0aW9uYWxseSBhZGQgYW55IG1p
c3Npbmcgb25lcw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoU3RyaW5nIHByb3BO
YW1lIDogcHJvcHMua2V5U2V0KCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
aWYgKCFyZXF1aXJlZEFyci50b0xpc3QoKS5jb250YWlucyhwcm9wTmFtZSkpIHsNCiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkQXJyLnB1dChwcm9wTmFtZSk7DQog
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0N
Cg0KICAgICAgICAgICAgICAgICAgICAvLyBSZWN1cnNpdmVseSBwcm9wYWdhdGUgcmVxdWlyZWQg
Zm9yIG5lc3RlZCAkcmVmDQogICAgICAgICAgICAgICAgICAgIHByb3BhZ2F0ZVJlcXVpcmVkRnJv
bUNvbXBvbmVudHMoY2xlYW5lZEJvZHksIGNvbXBvbmVudHMpOw0KDQogICAgICAgICAgICAgICAg
ICAgIGlucHV0U2NoZW1hID0gY2xlYW5lZEJvZHk7DQoNCiAgICAgICAgICAgICAgICB9IGNhdGNo
IChFeGNlcHRpb24gZSkgew0KICAgICAgICAgICAgICAgICAgICBTeXN0ZW0uZXJyLnByaW50bG4o
IkZhaWxlZCB0byByZXNvbHZlIHJlcXVlc3RCb2R5IHNjaGVtYSBmb3IgIg0KICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBvcGVyYXRpb25JZCArICI6ICIgKyBlLmdldE1l
c3NhZ2UoKSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAg
ICAgICAgICAgICBpbnB1dFNjaGVtYS5wdXQoInByb3BlcnRpZXMiLCBpbnB1dFByb3BzKTsNCiAg
ICAgICAgICAgICAgICBpZiAocmVxdWlyZWRQYXJhbXMubGVuZ3RoKCkgPiAwKSB7DQogICAgICAg
ICAgICAgICAgICAgIGlucHV0U2NoZW1hLnB1dCgicmVxdWlyZWQiLCByZXF1aXJlZFBhcmFtcyk7
DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQoqLw0KDQogICAgICAgICAvLyAt
LS0gT3V0cHV0IHNjaGVtYSAtLS0NCiAgICAgICAgICAgIEpTT05PYmplY3Qgb3V0cHV0U2NoZW1h
ID0gbmV3IEpTT05PYmplY3QoKTsNCiAgICAgICAgICAgIEpTT05PYmplY3QgcmVzcG9uc2VzID0g
b3AuZ2V0SlNPTk9iamVjdCgicmVzcG9uc2VzIik7ICAvLyA8LS0gVGhpcyBtdXN0IHN0YXkNCiAg
ICAgICAgICAgIGJvb2xlYW4gZm91bmRKc29uUmVzcG9uc2UgPSBmYWxzZTsNCg0KICAgICAgICAg
ICAgZm9yIChTdHJpbmcgc3RhdHVzIDogcmVzcG9uc2VzLmtleVNldCgpKSB7DQogICAgICAgICAg
ICAgICAgSlNPTk9iamVjdCByZXNwID0gcmVzcG9uc2VzLmdldEpTT05PYmplY3Qoc3RhdHVzKTsN
CiAgICAgICAgICAgICAgICBpZiAocmVzcC5oYXMoImNvbnRlbnQiKSkgew0KICAgICAgICAgICAg
ICAgICAgICBKU09OT2JqZWN0IGNvbnRlbnRPYmogPSByZXNwLmdldEpTT05PYmplY3QoImNvbnRl
bnQiKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRPYmouaGFzKCJhcHBsaWNhdGlv
bi9qc29uIikpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIEpTT05PYmplY3Qgc2NoZW1hID0g
Y29udGVudE9iag0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZ2V0SlNPTk9iamVj
dCgiYXBwbGljYXRpb24vanNvbiIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5n
ZXRKU09OT2JqZWN0KCJzY2hlbWEiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIEpTT05PYmpl
Y3Qgb3JpZ2luYWxTY2hlbWEgPSBjbGVhblNjaGVtYShyZXNvbHZlU2NoZW1hKHNjaGVtYSwgY29t
cG9uZW50cykpOw0KICAgICAgICAgICAgICAgICAgICAgICAgSlNPTk9iamVjdCB3cmFwcGVkT3V0
cHV0U2NoZW1hID0gbmV3IEpTT05PYmplY3QoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHdy
YXBwZWRPdXRwdXRTY2hlbWEucHV0KCJ0eXBlIiwgIm9iamVjdCIpOw0KICAgICAgICAgICAgICAg
ICAgICAgICAgSlNPTk9iamVjdCBwcm9wcyA9IG5ldyBKU09OT2JqZWN0KCk7DQogICAgICAgICAg
ICAgICAgICAgICAgICBwcm9wcy5wdXQoInJlc3VsdCIsIG9yaWdpbmFsU2NoZW1hKTsNCiAgICAg
ICAgICAgICAgICAgICAgICAgIHdyYXBwZWRPdXRwdXRTY2hlbWEucHV0KCJwcm9wZXJ0aWVzIiwg
cHJvcHMpOw0KICAgICAgICAgICAgICAgICAgICAgICAgd3JhcHBlZE91dHB1dFNjaGVtYS5wdXQo
InJlcXVpcmVkIiwgbmV3IEpTT05BcnJheSgpLnB1dCgicmVzdWx0IikpOw0KICAgICAgICAgICAg
ICAgICAgICAgICAgb3V0cHV0U2NoZW1hID0gd3JhcHBlZE91dHB1dFNjaGVtYTsNCiAgICAgICAg
ICAgICAgICAgICAgICAgIGZvdW5kSnNvblJlc3BvbnNlID0gdHJ1ZTsNCiAgICAgICAgICAgICAg
ICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAg
fQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAoIWZvdW5kSnNvblJlc3BvbnNlKSB7
DQogICAgICAgICAgICAgICAgb3V0cHV0U2NoZW1hLnB1dCgidHlwZSIsICJvYmplY3QiKTsNCiAg
ICAgICAgICAgICAgICBvdXRwdXRTY2hlbWEucHV0KCJwcm9wZXJ0aWVzIiwgbmV3IEpTT05PYmpl
Y3QoKSk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC8vIC0tLSBCdWlsZCB0b29sIG9i
amVjdCAtLS0NCiAgICAgICAgICAgIEpTT05PYmplY3QgdG9vbCA9IG5ldyBKU09OT2JqZWN0KCk7
DQogICAgICAgICAgICB0b29sLnB1dCgibmFtZSIsIHRvb2xOYW1lKTsNCiAgICAgICAgICAgIHRv
b2wucHV0KCJkZXNjcmlwdGlvbiIsIHN1bW1hcnkpOw0KICAgICAgICAgICAgdG9vbC5wdXQoImlu
cHV0U2NoZW1hIiwgaW5wdXRTY2hlbWEpOw0KICAgICAgICAgICAgdG9vbC5wdXQoIm91dHB1dFNj
aGVtYSIsIG91dHB1dFNjaGVtYSk7DQoNCiAgICAgICAgICAgIHRvb2xzLnB1dCh0b29sKTsNCiAg
ICAgICAgfQ0KICAgIH0NCg0KICAgIEpTT05PYmplY3QgcmVzdWx0ID0gbmV3IEpTT05PYmplY3Qo
KTsNCiAgICByZXN1bHQucHV0KCJ0b29scyIsIHRvb2xzKTsNCiAgICBJRGF0YVV0aWwucHV0KHBp
cGVsaW5lQ3Vyc29yLCAidG9vbEpTT05TdHJpbmciLCByZXN1bHQudG9TdHJpbmcoKSk7DQogICAg
cGlwZWxpbmVDdXJzb3IuZGVzdHJveSgpOw==</value>
</Values>
