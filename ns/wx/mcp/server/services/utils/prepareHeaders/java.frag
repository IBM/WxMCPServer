<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="name">prepareHeaders</value>
  <value name="encodeutf8">true</value>
  <value name="body">SURhdGFDdXJzb3IgcGlwZWxpbmVDdXJzb3IgPSBwaXBlbGluZS5nZXRDdXJzb3IoKTsNCiANCi8v
IDEuIE1lcmdlIGhlYWRlcnMgYW5kIGFkZGl0aW9uYWxIZWFkZXJzIGludG8gYSBzaW5nbGUgSURh
dGEgImhlYWRlcnMiDQpJRGF0YVtdIGhlYWRlcnNBcnIgPSBJRGF0YVV0aWwuZ2V0SURhdGFBcnJh
eShwaXBlbGluZUN1cnNvciwgImhlYWRlcnMiKTsNCklEYXRhW10gYWRkaXRpb25hbEhlYWRlcnNB
cnIgPSBJRGF0YVV0aWwuZ2V0SURhdGFBcnJheShwaXBlbGluZUN1cnNvciwgImFkZGl0aW9uYWxI
ZWFkZXJzIik7DQpNYXA8U3RyaW5nLCBTdHJpbmc+IGhlYWRlcnNNYXAgPSBuZXcgTGlua2VkSGFz
aE1hcDw+KCk7DQogDQovLyBJZiBoZWFkZXJzQXJyIGlzIGVtcHR5IG9yIG51bGwsIGp1c3QgdXNl
IGFkZGl0aW9uYWxIZWFkZXJzQXJyIChpZiBub3QgZW1wdHkpDQpib29sZWFuIGhlYWRlcnNBcnJF
bXB0eSA9IChoZWFkZXJzQXJyID09IG51bGwgfHwgaGVhZGVyc0Fyci5sZW5ndGggPT0gMCk7DQpi
b29sZWFuIGFkZGl0aW9uYWxIZWFkZXJzQXJyRW1wdHkgPSAoYWRkaXRpb25hbEhlYWRlcnNBcnIg
PT0gbnVsbCB8fCBhZGRpdGlvbmFsSGVhZGVyc0Fyci5sZW5ndGggPT0gMCk7DQoNCmlmICghaGVh
ZGVyc0FyckVtcHR5KSB7DQoJZm9yIChJRGF0YSBoZWFkZXIgOiBoZWFkZXJzQXJyKSB7DQoJCUlE
YXRhQ3Vyc29yIGMgPSBoZWFkZXIuZ2V0Q3Vyc29yKCk7DQoJCVN0cmluZyBuYW1lID0gSURhdGFV
dGlsLmdldFN0cmluZyhjLCAibmFtZSIpOw0KCQlTdHJpbmcgdmFsdWUgPSBJRGF0YVV0aWwuZ2V0
U3RyaW5nKGMsICJ2YWx1ZSIpOw0KCQlpZiAobmFtZSAhPSBudWxsICYmIHZhbHVlICE9IG51bGwp
IGhlYWRlcnNNYXAucHV0KG5hbWUsIHZhbHVlKTsNCgkJYy5kZXN0cm95KCk7DQoJfQ0KCWlmICgh
YWRkaXRpb25hbEhlYWRlcnNBcnJFbXB0eSkgew0KCQlmb3IgKElEYXRhIGhlYWRlciA6IGFkZGl0
aW9uYWxIZWFkZXJzQXJyKSB7DQoJCQlJRGF0YUN1cnNvciBjID0gaGVhZGVyLmdldEN1cnNvcigp
Ow0KCQkJU3RyaW5nIG5hbWUgPSBJRGF0YVV0aWwuZ2V0U3RyaW5nKGMsICJuYW1lIik7DQoJCQlT
dHJpbmcgdmFsdWUgPSBJRGF0YVV0aWwuZ2V0U3RyaW5nKGMsICJ2YWx1ZSIpOw0KCQkJaWYgKG5h
bWUgIT0gbnVsbCAmJiB2YWx1ZSAhPSBudWxsKSBoZWFkZXJzTWFwLnB1dChuYW1lLCB2YWx1ZSk7
DQoJCQljLmRlc3Ryb3koKTsNCgkJfQ0KCX0NCn0gZWxzZSBpZiAoIWFkZGl0aW9uYWxIZWFkZXJz
QXJyRW1wdHkpIHsNCglmb3IgKElEYXRhIGhlYWRlciA6IGFkZGl0aW9uYWxIZWFkZXJzQXJyKSB7
DQoJCUlEYXRhQ3Vyc29yIGMgPSBoZWFkZXIuZ2V0Q3Vyc29yKCk7DQoJCVN0cmluZyBuYW1lID0g
SURhdGFVdGlsLmdldFN0cmluZyhjLCAibmFtZSIpOw0KCQlTdHJpbmcgdmFsdWUgPSBJRGF0YVV0
aWwuZ2V0U3RyaW5nKGMsICJ2YWx1ZSIpOw0KCQlpZiAobmFtZSAhPSBudWxsICYmIHZhbHVlICE9
IG51bGwpIGhlYWRlcnNNYXAucHV0KG5hbWUsIHZhbHVlKTsNCgkJYy5kZXN0cm95KCk7DQoJfQ0K
fQ0KDQpJRGF0YSBoZWFkZXJzT3V0ID0gSURhdGFGYWN0b3J5LmNyZWF0ZSgpOw0KSURhdGFDdXJz
b3IgaGVhZGVyc091dEN1cnNvciA9IGhlYWRlcnNPdXQuZ2V0Q3Vyc29yKCk7DQpmb3IgKE1hcC5F
bnRyeTxTdHJpbmcsIFN0cmluZz4gZW50cnkgOiBoZWFkZXJzTWFwLmVudHJ5U2V0KCkpIHsNCglJ
RGF0YVV0aWwucHV0KGhlYWRlcnNPdXRDdXJzb3IsIGVudHJ5LmdldEtleSgpLCBlbnRyeS5nZXRW
YWx1ZSgpKTsNCn0NCmhlYWRlcnNPdXRDdXJzb3IuZGVzdHJveSgpOw0KSURhdGFVdGlsLnB1dChw
aXBlbGluZUN1cnNvciwgImVmZmVjdGl2ZUhlYWRlcnMiLCBoZWFkZXJzT3V0KTsNCg0KLy8gMi4g
QnVpbGQgdGhlIGZ1bGwgVVJMDQpTdHJpbmcgYmFzZVBhdGggPSBJRGF0YVV0aWwuZ2V0U3RyaW5n
KHBpcGVsaW5lQ3Vyc29yLCAiYmFzZVBhdGgiKTsNClN0cmluZyByZWxhdGl2ZVBhdGggPSBJRGF0
YVV0aWwuZ2V0U3RyaW5nKHBpcGVsaW5lQ3Vyc29yLCAicmVsYXRpdmVQYXRoIik7DQppZiAoYmFz
ZVBhdGggPT0gbnVsbCkgYmFzZVBhdGggPSAiIjsNCmlmIChyZWxhdGl2ZVBhdGggPT0gbnVsbCkg
cmVsYXRpdmVQYXRoID0gIiI7DQoNCi8vIFJlbW92ZSB0cmFpbGluZyBzbGFzaCBmcm9tIGJhc2VQ
YXRoIGFuZCBsZWFkaW5nIHNsYXNoIGZyb20gcmVsYXRpdmVQYXRoDQppZiAoYmFzZVBhdGguZW5k
c1dpdGgoIi8iKSkgYmFzZVBhdGggPSBiYXNlUGF0aC5zdWJzdHJpbmcoMCwgYmFzZVBhdGgubGVu
Z3RoKCkgLSAxKTsNCmlmIChyZWxhdGl2ZVBhdGguc3RhcnRzV2l0aCgiLyIpKSByZWxhdGl2ZVBh
dGggPSByZWxhdGl2ZVBhdGguc3Vic3RyaW5nKDEpOw0KDQpTdHJpbmcgdXJsID0gYmFzZVBhdGgg
KyAiLyIgKyByZWxhdGl2ZVBhdGg7DQoNCi8vIFJlcGxhY2Uge3BhdGh9IHBhcmFtZXRlcnMNCklE
YXRhW10gcGF0aFBhcmFtc0FyciA9IElEYXRhVXRpbC5nZXRJRGF0YUFycmF5KHBpcGVsaW5lQ3Vy
c29yLCAicGF0aFBhcmFtcyIpOw0KaWYgKHBhdGhQYXJhbXNBcnIgIT0gbnVsbCkgew0KCWZvciAo
SURhdGEgcGFyYW0gOiBwYXRoUGFyYW1zQXJyKSB7DQoJCUlEYXRhQ3Vyc29yIGMgPSBwYXJhbS5n
ZXRDdXJzb3IoKTsNCgkJU3RyaW5nIG5hbWUgPSBJRGF0YVV0aWwuZ2V0U3RyaW5nKGMsICJuYW1l
Iik7DQoJCVN0cmluZyB2YWx1ZSA9IElEYXRhVXRpbC5nZXRTdHJpbmcoYywgInZhbHVlIik7DQoJ
CWlmIChuYW1lICE9IG51bGwgJiYgdmFsdWUgIT0gbnVsbCkgew0KCQkJdXJsID0gdXJsLnJlcGxh
Y2UoInsiICsgbmFtZSArICJ9IiwgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSk7DQoJCX0NCgkJ
Yy5kZXN0cm95KCk7DQoJfQ0KfQ0KDQovLyAzLiBBZGQgcXVlcnkgcGFyYW1ldGVycw0KSURhdGFb
XSBxdWVyeVBhcmFtc0FyciA9IElEYXRhVXRpbC5nZXRJRGF0YUFycmF5KHBpcGVsaW5lQ3Vyc29y
LCAicXVlcnlQYXJhbXMiKTsNClN0cmluZ0J1aWxkZXIgcXVlcnlTdHJpbmcgPSBuZXcgU3RyaW5n
QnVpbGRlcigpOw0KaWYgKHF1ZXJ5UGFyYW1zQXJyICE9IG51bGwpIHsNCglmb3IgKElEYXRhIHBh
cmFtIDogcXVlcnlQYXJhbXNBcnIpIHsNCgkJSURhdGFDdXJzb3IgYyA9IHBhcmFtLmdldEN1cnNv
cigpOw0KCQlTdHJpbmcgbmFtZSA9IElEYXRhVXRpbC5nZXRTdHJpbmcoYywgIm5hbWUiKTsNCgkJ
U3RyaW5nIHZhbHVlID0gSURhdGFVdGlsLmdldFN0cmluZyhjLCAidmFsdWUiKTsNCgkJaWYgKG5h
bWUgIT0gbnVsbCAmJiB2YWx1ZSAhPSBudWxsKSB7DQoJCQlpZiAocXVlcnlTdHJpbmcubGVuZ3Ro
KCkgPT0gMCkgew0KCQkJCXF1ZXJ5U3RyaW5nLmFwcGVuZCgiPyIpOw0KCQkJfSBlbHNlIHsNCgkJ
CQlxdWVyeVN0cmluZy5hcHBlbmQoIiYiKTsNCgkJCX0NCgkJCXF1ZXJ5U3RyaW5nLmFwcGVuZChl
bmNvZGVVUklDb21wb25lbnQobmFtZSkpLmFwcGVuZCgiPSIpLmFwcGVuZChlbmNvZGVVUklDb21w
b25lbnQodmFsdWUpKTsNCgkJfQ0KCQljLmRlc3Ryb3koKTsNCgl9DQp9DQp1cmwgKz0gcXVlcnlT
dHJpbmcudG9TdHJpbmcoKTsNCg0KSURhdGFVdGlsLnB1dChwaXBlbGluZUN1cnNvciwgImZ1bGxV
UkwiLCB1cmwpOw0KDQpwaXBlbGluZUN1cnNvci5kZXN0cm95KCk7</value>
</Values>
