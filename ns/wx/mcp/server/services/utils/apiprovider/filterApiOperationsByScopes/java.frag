<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="name">filterApiOperationsByScopes</value>
  <value name="encodeutf8">true</value>
  <value name="body">SURhdGFDdXJzb3IgcGlwZWxpbmVDdXJzb3IgPSBwaXBlbGluZS5nZXRDdXJzb3IoKTsNCiAgICAg
ICAgU3RyaW5nW10gc2NvcGVzID0gSURhdGFVdGlsLmdldFN0cmluZ0FycmF5KHBpcGVsaW5lQ3Vy
c29yLCAic2NvcGVzIik7DQogICAgICAgIFN0cmluZyBvcGVuQVBJU3BlYyA9IElEYXRhVXRpbC5n
ZXRTdHJpbmcocGlwZWxpbmVDdXJzb3IsICJvcGVuQVBJU3BlYyIpOw0KICAgICAgICBwaXBlbGlu
ZUN1cnNvci5kZXN0cm95KCk7DQoNCiAgICAgICAgaWYgKG9wZW5BUElTcGVjID09IG51bGwgfHwg
b3BlbkFQSVNwZWMudHJpbSgpLmlzRW1wdHkoKSkgew0KICAgICAgICAgICAgb3V0cHV0RW1wdHlS
ZXN1bHRzKHBpcGVsaW5lLCBvcGVuQVBJU3BlYyk7DQogICAgICAgICAgICByZXR1cm47DQogICAg
ICAgIH0NCg0KICAgICAgICBPYmplY3RNYXBwZXIgbWFwcGVyID0gbmV3IE9iamVjdE1hcHBlcigp
Ow0KICAgICAgICBKc29uTm9kZSByb290Ow0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgcm9v
dCA9IG1hcHBlci5yZWFkVHJlZShvcGVuQVBJU3BlYyk7DQogICAgICAgIH0gY2F0Y2ggKEV4Y2Vw
dGlvbiBlKSB7DQogICAgICAgICAgICB0aHJvdyBuZXcgU2VydmljZUV4Y2VwdGlvbigiSW52YWxp
ZCBPcGVuQVBJIEpTT046ICIgKyBlLmdldE1lc3NhZ2UoKSk7DQogICAgICAgIH0NCg0KICAgICAg
ICBpZiAoc2NvcGVzID09IG51bGwgfHwgc2NvcGVzLmxlbmd0aCA9PSAwKSB7DQogICAgICAgICAg
ICBvdXRwdXRFbXB0eVJlc3VsdHMocGlwZWxpbmUsIG9wZW5BUElTcGVjKTsNCiAgICAgICAgICAg
IHJldHVybjsNCiAgICAgICAgfQ0KDQogICAgICAgIEpzb25Ob2RlIHBhdGhzTm9kZSA9IHJvb3Qu
cGF0aCgicGF0aHMiKTsNCiAgICAgICAgaWYgKCFwYXRoc05vZGUuaXNPYmplY3QoKSkgew0KICAg
ICAgICAgICAgb3V0cHV0RW1wdHlSZXN1bHRzKHBpcGVsaW5lLCBvcGVuQVBJU3BlYyk7DQogICAg
ICAgICAgICByZXR1cm47DQogICAgICAgIH0NCg0KICAgICAgICBMaXN0PElEYXRhPiBpblNjb3Bl
TGlzdCA9IG5ldyBBcnJheUxpc3Q8PigpOw0KICAgICAgICBMaXN0PElEYXRhPiBvdXRPZlNjb3Bl
TGlzdCA9IG5ldyBBcnJheUxpc3Q8PigpOw0KICAgICAgICBPYmplY3ROb2RlIG5ld1BhdGhzID0g
bWFwcGVyLmNyZWF0ZU9iamVjdE5vZGUoKTsNCg0KICAgICAgICAvLyBWYWxpZCBIVFRQIG1ldGhv
ZHMgb25seQ0KICAgICAgICBTdHJpbmdbXSB2YWxpZEh0dHBNZXRob2RzID0geyJHRVQiLCAiUE9T
VCIsICJQVVQiLCAiREVMRVRFIiwgIlBBVENIIiwgIkhFQUQiLCAiT1BUSU9OUyJ9Ow0KDQogICAg
ICAgIEl0ZXJhdG9yPE1hcC5FbnRyeTxTdHJpbmcsIEpzb25Ob2RlPj4gcGF0aEl0ZXIgPSAoKE9i
amVjdE5vZGUpIHBhdGhzTm9kZSkuZmllbGRzKCk7DQogICAgICAgIHdoaWxlIChwYXRoSXRlci5o
YXNOZXh0KCkpIHsNCiAgICAgICAgICAgIE1hcC5FbnRyeTxTdHJpbmcsIEpzb25Ob2RlPiBwYXRo
RW50cnkgPSBwYXRoSXRlci5uZXh0KCk7DQogICAgICAgICAgICBTdHJpbmcgcGF0aEtleSA9IHBh
dGhFbnRyeS5nZXRLZXkoKTsNCiAgICAgICAgICAgIEpzb25Ob2RlIG1ldGhvZHNOb2RlID0gcGF0
aEVudHJ5LmdldFZhbHVlKCk7DQogICAgICAgICAgICBpZiAoIW1ldGhvZHNOb2RlLmlzT2JqZWN0
KCkpIGNvbnRpbnVlOw0KDQogICAgICAgICAgICBPYmplY3ROb2RlIGFsbG93ZWRNZXRob2RzID0g
bWFwcGVyLmNyZWF0ZU9iamVjdE5vZGUoKTsNCiAgICAgICAgICAgIEl0ZXJhdG9yPE1hcC5FbnRy
eTxTdHJpbmcsIEpzb25Ob2RlPj4gbWV0aG9kSXRlciA9ICgoT2JqZWN0Tm9kZSkgbWV0aG9kc05v
ZGUpLmZpZWxkcygpOw0KICAgICAgICAgICAgd2hpbGUgKG1ldGhvZEl0ZXIuaGFzTmV4dCgpKSB7
DQogICAgICAgICAgICAgICAgTWFwLkVudHJ5PFN0cmluZywgSnNvbk5vZGU+IG1ldGhvZEVudHJ5
ID0gbWV0aG9kSXRlci5uZXh0KCk7DQogICAgICAgICAgICAgICAgU3RyaW5nIGh0dHBNZXRob2RL
ZXkgPSBtZXRob2RFbnRyeS5nZXRLZXkoKS50b1VwcGVyQ2FzZSgpOw0KICAgICAgICAgICAgICAg
IA0KICAgICAgICAgICAgICAgIC8vIFNraXAgbm9uLUhUVFAgbWV0aG9kcyAoc3VtbWFyeSwgcGFy
YW1ldGVycywgZXRjLikNCiAgICAgICAgICAgICAgICBib29sZWFuIGlzVmFsaWRIdHRwTWV0aG9k
ID0gZmFsc2U7DQogICAgICAgICAgICAgICAgZm9yIChTdHJpbmcgdmFsaWRNZXRob2QgOiB2YWxp
ZEh0dHBNZXRob2RzKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChodHRwTWV0aG9kS2V5LmVx
dWFscyh2YWxpZE1ldGhvZCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlzVmFsaWRIdHRw
TWV0aG9kID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAg
ICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmICghaXNW
YWxpZEh0dHBNZXRob2QpIHsNCiAgICAgICAgICAgICAgICAgICAgY29udGludWU7DQogICAgICAg
ICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgU3RyaW5nIGh0dHBNZXRob2QgPSBodHRwTWV0
aG9kS2V5Ow0KICAgICAgICAgICAgICAgIEpzb25Ob2RlIG9wZXJhdGlvbiA9IG1ldGhvZEVudHJ5
LmdldFZhbHVlKCk7DQoNCiAgICAgICAgICAgICAgICBTdHJpbmcgb3BlcmF0aW9uSWQgPSBnZXRP
cGVyYXRpb25JZChvcGVyYXRpb24pOw0KICAgICAgICAgICAgICAgIGlmIChvcGVyYXRpb25JZCA9
PSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBTZXJ2aWNlRXhjZXB0aW9u
KCJNaXNzaW5nIG9wZXJhdGlvbklkIGluICIgKyBodHRwTWV0aG9kICsgIiAiICsgcGF0aEtleSk7
DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgYm9vbGVhbiBpc0luU2NvcGUg
PSBoYXNNYXRjaGluZ1Njb3BlKG9wZXJhdGlvbiwgc2NvcGVzLCBtYXBwZXIpOw0KICAgICAgICAg
ICAgICAgIFN0cmluZyBvcGVyYXRpb25QYXRoID0gaHR0cE1ldGhvZCArICJfIiArIHBhdGhLZXk7
DQoNCiAgICAgICAgICAgICAgICBJRGF0YSBvcFJlY29yZCA9IElEYXRhRmFjdG9yeS5jcmVhdGUo
KTsNCiAgICAgICAgICAgICAgICBJRGF0YUN1cnNvciBvcEN1cnNvciA9IG9wUmVjb3JkLmdldEN1
cnNvcigpOw0KICAgICAgICAgICAgICAgIElEYXRhVXRpbC5wdXQob3BDdXJzb3IsICJpZCIsIG9w
ZXJhdGlvbklkKTsNCiAgICAgICAgICAgICAgICBJRGF0YVV0aWwucHV0KG9wQ3Vyc29yLCAicGF0
aCIsIG9wZXJhdGlvblBhdGgpOw0KICAgICAgICAgICAgICAgIG9wQ3Vyc29yLmRlc3Ryb3koKTsN
Cg0KICAgICAgICAgICAgICAgIGlmIChpc0luU2NvcGUpIHsNCiAgICAgICAgICAgICAgICAgICAg
YWxsb3dlZE1ldGhvZHMuc2V0KGh0dHBNZXRob2QudG9Mb3dlckNhc2UoKSwgb3BlcmF0aW9uKTsN
CiAgICAgICAgICAgICAgICAgICAgaW5TY29wZUxpc3QuYWRkKG9wUmVjb3JkKTsNCiAgICAgICAg
ICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBvdXRPZlNjb3BlTGlzdC5hZGQo
b3BSZWNvcmQpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAg
ICAgaWYgKGFsbG93ZWRNZXRob2RzLnNpemUoKSA+IDApIHsNCiAgICAgICAgICAgICAgICBuZXdQ
YXRocy5zZXQocGF0aEtleSwgYWxsb3dlZE1ldGhvZHMpOw0KICAgICAgICAgICAgfQ0KICAgICAg
ICB9DQoNCiAgICAgICAgKChPYmplY3ROb2RlKSByb290KS5zZXQoInBhdGhzIiwgbmV3UGF0aHMp
Ow0KICAgICAgICBTdHJpbmcgZmlsdGVyZWRTcGVjOw0KICAgICAgICB0cnkgew0KICAgICAgICAg
ICAgZmlsdGVyZWRTcGVjID0gbWFwcGVyLndyaXRlcldpdGhEZWZhdWx0UHJldHR5UHJpbnRlcigp
LndyaXRlVmFsdWVBc1N0cmluZyhyb290KTsNCiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUp
IHsNCiAgICAgICAgICAgIHRocm93IG5ldyBTZXJ2aWNlRXhjZXB0aW9uKCJGYWlsZWQgdG8gc2Vy
aWFsaXplIGZpbHRlcmVkIHNwZWM6ICIgKyBlLmdldE1lc3NhZ2UoKSk7DQogICAgICAgIH0NCg0K
ICAgICAgICBJRGF0YUN1cnNvciBvdXRDdXJzb3IgPSBwaXBlbGluZS5nZXRDdXJzb3IoKTsNCiAg
ICAgICAgSURhdGFVdGlsLnB1dChvdXRDdXJzb3IsICJzY29wZWRPcGVuQVBJU3BlYyIsIGZpbHRl
cmVkU3BlYyk7DQogICAgICAgIElEYXRhVXRpbC5wdXQob3V0Q3Vyc29yLCAiaW5TY29wZU9wZXJh
dGlvbnMiLCBpblNjb3BlTGlzdC50b0FycmF5KG5ldyBJRGF0YVswXSkpOw0KICAgICAgICBJRGF0
YVV0aWwucHV0KG91dEN1cnNvciwgIm91dE9mU2NvcGVPcGVyYXRpb25zIiwgb3V0T2ZTY29wZUxp
c3QudG9BcnJheShuZXcgSURhdGFbMF0pKTsNCiAgICAgICAgb3V0Q3Vyc29yLmRlc3Ryb3koKTs=
</value>
</Values>
